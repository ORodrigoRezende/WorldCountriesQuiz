(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function e(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(r){if(r.ep)return;r.ep=!0;const o=e(r);fetch(r.href,o)}})();const ur=["África","América do Norte","América Central e Caribe","América do Sul","Ásia","Europa","Oceania","Antártida"],gt=[{id:"012",name:"Argélia",continent:"África"},{id:"024",name:"Angola",continent:"África"},{id:"204",name:"Benim",continent:"África"},{id:"072",name:"Botsuana",continent:"África"},{id:"854",name:"Burquina Fasso",continent:"África",alternates:["Burkina Faso"]},{id:"108",name:"Burundi",continent:"África"},{id:"120",name:"Camarões",continent:"África"},{id:"140",name:"República Centro-Africana",continent:"África"},{id:"148",name:"Chade",continent:"África"},{id:"174",name:"Comores",continent:"África"},{id:"178",name:"Congo",continent:"África"},{id:"180",name:"República Democrática do Congo",continent:"África",alternates:["Congo-Kinshasa","RDC"]},{id:"384",name:"Costa do Marfim",continent:"África",alternates:["Côte d'Ivoire"]},{id:"262",name:"Djibuti",continent:"África"},{id:"818",name:"Egito",continent:"África"},{id:"226",name:"Guiné Equatorial",continent:"África"},{id:"232",name:"Eritreia",continent:"África"},{id:"231",name:"Etiópia",continent:"África"},{id:"266",name:"Gabão",continent:"África"},{id:"270",name:"Gâmbia",continent:"África"},{id:"288",name:"Gana",continent:"África"},{id:"324",name:"Guiné",continent:"África"},{id:"624",name:"Guiné-Bissau",continent:"África"},{id:"404",name:"Quénia",continent:"África",alternates:["Quênia"]},{id:"426",name:"Lesoto",continent:"África"},{id:"430",name:"Libéria",continent:"África"},{id:"434",name:"Líbia",continent:"África"},{id:"450",name:"Madagáscar",continent:"África",alternates:["Madagascar"]},{id:"454",name:"Maláui",continent:"África",alternates:["Malawi"]},{id:"466",name:"Mali",continent:"África"},{id:"478",name:"Mauritânia",continent:"África"},{id:"480",name:"Maurícia",continent:"África",alternates:["Maurício"]},{id:"504",name:"Marrocos",continent:"África"},{id:"508",name:"Moçambique",continent:"África"},{id:"516",name:"Namíbia",continent:"África"},{id:"562",name:"Níger",continent:"África"},{id:"566",name:"Nigéria",continent:"África"},{id:"646",name:"Ruanda",continent:"África"},{id:"732",name:"Saara Ocidental",continent:"África"},{id:"678",name:"São Tomé e Príncipe",continent:"África"},{id:"686",name:"Senegal",continent:"África"},{id:"690",name:"Seicheles",continent:"África",alternates:["Seychelles"]},{id:"694",name:"Serra Leoa",continent:"África"},{id:"706",name:"Somália",continent:"África"},{id:"710",name:"África do Sul",continent:"África"},{id:"728",name:"Sudão do Sul",continent:"África"},{id:"729",name:"Sudão",continent:"África"},{id:"748",name:"Essuatíni",continent:"África",alternates:["Suazilândia","eSwatini"]},{id:"834",name:"Tanzânia",continent:"África"},{id:"768",name:"Togo",continent:"África"},{id:"788",name:"Tunísia",continent:"África"},{id:"800",name:"Uganda",continent:"África"},{id:"894",name:"Zâmbia",continent:"África"},{id:"716",name:"Zimbábue",continent:"África",alternates:["Zimbabwe"]},{id:"124",name:"Canadá",continent:"América do Norte"},{id:"484",name:"México",continent:"América do Norte"},{id:"840",name:"Estados Unidos",continent:"América do Norte",alternates:["EUA","Estados Unidos da América"]},{id:"044",name:"Bahamas",continent:"América Central e Caribe"},{id:"052",name:"Barbados",continent:"América Central e Caribe"},{id:"084",name:"Belize",continent:"América Central e Caribe"},{id:"192",name:"Cuba",continent:"América Central e Caribe"},{id:"188",name:"Costa Rica",continent:"América Central e Caribe"},{id:"212",name:"Dominica",continent:"América Central e Caribe"},{id:"214",name:"República Dominicana",continent:"América Central e Caribe",alternates:["Dominicana"]},{id:"222",name:"El Salvador",continent:"América Central e Caribe"},{id:"308",name:"Granada",continent:"América Central e Caribe"},{id:"332",name:"Haiti",continent:"América Central e Caribe"},{id:"340",name:"Honduras",continent:"América Central e Caribe"},{id:"388",name:"Jamaica",continent:"América Central e Caribe"},{id:"558",name:"Nicarágua",continent:"América Central e Caribe"},{id:"591",name:"Panamá",continent:"América Central e Caribe"},{id:"659",name:"Santa Lúcia",continent:"América Central e Caribe",alternates:["São Lúcia"]},{id:"662",name:"São Vicente e Granadinas",continent:"América Central e Caribe"},{id:"780",name:"Trindade e Tobago",continent:"América Central e Caribe",alternates:["Trinidad e Tobago"]},{id:"320",name:"Guatemala",continent:"América Central e Caribe"},{id:"032",name:"Argentina",continent:"América do Sul"},{id:"068",name:"Bolívia",continent:"América do Sul"},{id:"076",name:"Brasil",continent:"América do Sul"},{id:"152",name:"Chile",continent:"América do Sul"},{id:"170",name:"Colômbia",continent:"América do Sul"},{id:"218",name:"Equador",continent:"América do Sul"},{id:"328",name:"Guiana",continent:"América do Sul"},{id:"600",name:"Paraguai",continent:"América do Sul"},{id:"604",name:"Peru",continent:"América do Sul"},{id:"740",name:"Suriname",continent:"América do Sul"},{id:"858",name:"Uruguai",continent:"América do Sul"},{id:"862",name:"Venezuela",continent:"América do Sul"},{id:"004",name:"Afeganistão",continent:"Ásia"},{id:"051",name:"Arménia",continent:"Ásia",alternates:["Armênia"]},{id:"031",name:"Azerbaijão",continent:"Ásia"},{id:"050",name:"Bangladeche",continent:"Ásia",alternates:["Bangladesh"]},{id:"064",name:"Butão",continent:"Ásia"},{id:"096",name:"Brunei",continent:"Ásia"},{id:"156",name:"China",continent:"Ásia"},{id:"408",name:"Coreia do Norte",continent:"Ásia",alternates:["Coreia Norte"]},{id:"410",name:"Coreia do Sul",continent:"Ásia",alternates:["Coreia Sul"]},{id:"268",name:"Geórgia",continent:"Ásia"},{id:"356",name:"Índia",continent:"Ásia"},{id:"360",name:"Indonésia",continent:"Ásia"},{id:"364",name:"Irão",continent:"Ásia",alternates:["Irã"]},{id:"368",name:"Iraque",continent:"Ásia"},{id:"376",name:"Israel",continent:"Ásia"},{id:"392",name:"Japão",continent:"Ásia"},{id:"400",name:"Jordânia",continent:"Ásia"},{id:"398",name:"Cazaquistão",continent:"Ásia"},{id:"417",name:"Quirguistão",continent:"Ásia",alternates:["Quirguizistão"]},{id:"418",name:"Laos",continent:"Ásia"},{id:"422",name:"Líbano",continent:"Ásia"},{id:"458",name:"Malásia",continent:"Ásia"},{id:"462",name:"Maldivas",continent:"Ásia"},{id:"104",name:"Mianmar",continent:"Ásia",alternates:["Birmânia","Myanmar"]},{id:"496",name:"Mongólia",continent:"Ásia"},{id:"524",name:"Nepal",continent:"Ásia"},{id:"512",name:"Omã",continent:"Ásia"},{id:"586",name:"Paquistão",continent:"Ásia"},{id:"275",name:"Palestina",continent:"Ásia",alternates:["Estado da Palestina"]},{id:"608",name:"Filipinas",continent:"Ásia"},{id:"634",name:"Catar",continent:"Ásia",alternates:["Qatar"]},{id:"682",name:"Arábia Saudita",continent:"Ásia"},{id:"702",name:"Singapura",continent:"Ásia"},{id:"144",name:"Sri Lanca",continent:"Ásia",alternates:["Sri Lanka"]},{id:"760",name:"Síria",continent:"Ásia"},{id:"762",name:"Tajiquistão",continent:"Ásia",alternates:["Tajikistan"]},{id:"158",name:"Taiwan",continent:"Ásia"},{id:"764",name:"Tailândia",continent:"Ásia"},{id:"626",name:"Timor-Leste",continent:"Ásia",alternates:["Timor Leste"]},{id:"795",name:"Turquemenistão",continent:"Ásia",alternates:["Turcomenistão"]},{id:"792",name:"Turquia",continent:"Ásia"},{id:"784",name:"Emirados Árabes Unidos",continent:"Ásia",alternates:["EAU"]},{id:"860",name:"Usbequistão",continent:"Ásia",alternates:["Uzbequistão"]},{id:"704",name:"Vietname",continent:"Ásia",alternates:["Vietnã","Vietnam"]},{id:"887",name:"Iémen",continent:"Ásia",alternates:["Iêmen","Yemen"]},{id:"116",name:"Camboja",continent:"Ásia"},{id:"008",name:"Albânia",continent:"Europa"},{id:"040",name:"Áustria",continent:"Europa"},{id:"112",name:"Bielorrússia",continent:"Europa",alternates:["Belarus"]},{id:"056",name:"Bélgica",continent:"Europa"},{id:"070",name:"Bósnia e Herzegovina",continent:"Europa"},{id:"100",name:"Bulgária",continent:"Europa"},{id:"191",name:"Croácia",continent:"Europa"},{id:"203",name:"Chéquia",continent:"Europa",alternates:["República Checa","Tchéquia"]},{id:"208",name:"Dinamarca",continent:"Europa"},{id:"233",name:"Estónia",continent:"Europa",alternates:["Estônia"]},{id:"246",name:"Finlândia",continent:"Europa"},{id:"250",name:"França",continent:"Europa"},{id:"276",name:"Alemanha",continent:"Europa"},{id:"300",name:"Grécia",continent:"Europa"},{id:"348",name:"Hungria",continent:"Europa"},{id:"352",name:"Islândia",continent:"Europa"},{id:"372",name:"Irlanda",continent:"Europa"},{id:"380",name:"Itália",continent:"Europa"},{id:"428",name:"Letónia",continent:"Europa",alternates:["Letônia"]},{id:"440",name:"Lituânia",continent:"Europa"},{id:"442",name:"Luxemburgo",continent:"Europa"},{id:"807",name:"Macedónia do Norte",continent:"Europa",alternates:["Macedônia do Norte","Macedônia"]},{id:"498",name:"Moldávia",continent:"Europa",alternates:["Moldova"]},{id:"499",name:"Montenegro",continent:"Europa"},{id:"528",name:"Países Baixos",continent:"Europa",alternates:["Holanda"]},{id:"578",name:"Noruega",continent:"Europa"},{id:"616",name:"Polónia",continent:"Europa",alternates:["Polônia"]},{id:"620",name:"Portugal",continent:"Europa"},{id:"642",name:"Roménia",continent:"Europa",alternates:["Romênia"]},{id:"643",name:"Rússia",continent:"Europa"},{id:"688",name:"Sérvia",continent:"Europa"},{id:"703",name:"Eslováquia",continent:"Europa"},{id:"705",name:"Eslovénia",continent:"Europa",alternates:["Eslovênia"]},{id:"724",name:"Espanha",continent:"Europa"},{id:"752",name:"Suécia",continent:"Europa"},{id:"756",name:"Suíça",continent:"Europa"},{id:"804",name:"Ucrânia",continent:"Europa"},{id:"826",name:"Reino Unido",continent:"Europa",alternates:["Reino Unido da Grã-Bretanha e Irlanda do Norte"]},{id:"336",name:"Vaticano",continent:"Europa",alternates:["Santa Sé","Cidade do Vaticano"]},{id:"352",name:"Islândia",continent:"Europa"},{id:"036",name:"Austrália",continent:"Oceania"},{id:"554",name:"Nova Zelândia",continent:"Oceania"},{id:"242",name:"Fiji",continent:"Oceania"},{id:"598",name:"Papua-Nova Guiné",continent:"Oceania",alternates:["Papua Nova Guiné"]},{id:"548",name:"Vanuatu",continent:"Oceania"},{id:"090",name:"Ilhas Salomão",continent:"Oceania"},{id:"583",name:"Micronésia",continent:"Oceania",alternates:["Estados Federados da Micronésia"]},{id:"584",name:"Ilhas Marshall",continent:"Oceania"},{id:"585",name:"Palau",continent:"Oceania"},{id:"520",name:"Nauru",continent:"Oceania"},{id:"776",name:"Tonga",continent:"Oceania"},{id:"798",name:"Tuvalu",continent:"Oceania"},{id:"296",name:"Kiribati",continent:"Oceania"},{id:"882",name:"Samoa",continent:"Oceania",alternates:["Samoa Ocidental"]}];class xn{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const e=this._partials;let i=0;for(let r=0;r<this._n&&r<32;r++){const o=e[r],a=t+o,u=Math.abs(t)<Math.abs(o)?t-(a-o):o-(a-t);u&&(e[i++]=u),t=a}return e[i]=t,this._n=i+1,this}valueOf(){const t=this._partials;let e=this._n,i,r,o,a=0;if(e>0){for(a=t[--e];e>0&&(i=a,r=t[--e],a=i+r,o=r-(a-i),!o););e>0&&(o<0&&t[e-1]<0||o>0&&t[e-1]>0)&&(r=o*2,i=a+r,r==i-a&&(a=i))}return a}}function*sr(n){for(const t of n)yield*t}function gi(n){return Array.from(sr(n))}var O=1e-6,L=Math.PI,Z=L/2,Te=L/4,J=L*2,Q=180/L,V=L/180,F=Math.abs,vi=Math.atan,Yn=Math.atan2,H=Math.cos,cr=Math.exp,lr=Math.log,X=Math.sin,fr=Math.sign||function(n){return n>0?1:n<0?-1:0},bn=Math.sqrt,hr=Math.tan;function dr(n){return n>1?0:n<-1?L:Math.acos(n)}function Un(n){return n>1?Z:n<-1?-Z:Math.asin(n)}function tn(){}function vt(n,t){n&&Ie.hasOwnProperty(n.type)&&Ie[n.type](n,t)}var $e={Feature:function(n,t){vt(n.geometry,t)},FeatureCollection:function(n,t){for(var e=n.features,i=-1,r=e.length;++i<r;)vt(e[i].geometry,t)}},Ie={Sphere:function(n,t){t.sphere()},Point:function(n,t){n=n.coordinates,t.point(n[0],n[1],n[2])},MultiPoint:function(n,t){for(var e=n.coordinates,i=-1,r=e.length;++i<r;)n=e[i],t.point(n[0],n[1],n[2])},LineString:function(n,t){Vt(n.coordinates,t,0)},MultiLineString:function(n,t){for(var e=n.coordinates,i=-1,r=e.length;++i<r;)Vt(e[i],t,0)},Polygon:function(n,t){Re(n.coordinates,t)},MultiPolygon:function(n,t){for(var e=n.coordinates,i=-1,r=e.length;++i<r;)Re(e[i],t)},GeometryCollection:function(n,t){for(var e=n.geometries,i=-1,r=e.length;++i<r;)vt(e[i],t)}};function Vt(n,t,e){var i=-1,r=n.length-e,o;for(t.lineStart();++i<r;)o=n[i],t.point(o[0],o[1],o[2]);t.lineEnd()}function Re(n,t){var e=-1,i=n.length;for(t.polygonStart();++e<i;)Vt(n[e],t,1);t.polygonEnd()}function Mn(n,t){n&&$e.hasOwnProperty(n.type)?$e[n.type](n,t):vt(n,t)}function Yt(n){return[Yn(n[1],n[0]),Un(n[2])]}function In(n){var t=n[0],e=n[1],i=H(e);return[i*H(t),i*X(t),X(e)]}function et(n,t){return n[0]*t[0]+n[1]*t[1]+n[2]*t[2]}function yt(n,t){return[n[1]*t[2]-n[2]*t[1],n[2]*t[0]-n[0]*t[2],n[0]*t[1]-n[1]*t[0]]}function Lt(n,t){n[0]+=t[0],n[1]+=t[1],n[2]+=t[2]}function it(n,t){return[n[0]*t,n[1]*t,n[2]*t]}function Ut(n){var t=bn(n[0]*n[0]+n[1]*n[1]+n[2]*n[2]);n[0]/=t,n[1]/=t,n[2]/=t}function Zt(n,t){function e(i,r){return i=n(i,r),t(i[0],i[1])}return n.invert&&t.invert&&(e.invert=function(i,r){return i=t.invert(i,r),i&&n.invert(i[0],i[1])}),e}function Kt(n,t){return F(n)>L&&(n-=Math.round(n/J)*J),[n,t]}Kt.invert=Kt;function yi(n,t,e){return(n%=J)?t||e?Zt(Pe(n),Le(t,e)):Pe(n):t||e?Le(t,e):Kt}function ze(n){return function(t,e){return t+=n,F(t)>L&&(t-=Math.round(t/J)*J),[t,e]}}function Pe(n){var t=ze(n);return t.invert=ze(-n),t}function Le(n,t){var e=H(n),i=X(n),r=H(t),o=X(t);function a(u,f){var l=H(f),s=H(u)*l,c=X(u)*l,h=X(f),p=h*e+s*i;return[Yn(c*r-p*o,s*e-h*i),Un(p*r+c*o)]}return a.invert=function(u,f){var l=H(f),s=H(u)*l,c=X(u)*l,h=X(f),p=h*r-c*o;return[Yn(c*r+h*o,s*e+p*i),Un(p*e-s*i)]},a}function pr(n){n=yi(n[0]*V,n[1]*V,n.length>2?n[2]*V:0);function t(e){return e=n(e[0]*V,e[1]*V),e[0]*=Q,e[1]*=Q,e}return t.invert=function(e){return e=n.invert(e[0]*V,e[1]*V),e[0]*=Q,e[1]*=Q,e},t}function mr(n,t,e,i,r,o){if(e){var a=H(t),u=X(t),f=i*e;r==null?(r=t+i*J,o=t-f/2):(r=ke(a,r),o=ke(a,o),(i>0?r<o:r>o)&&(r+=i*J));for(var l,s=r;i>0?s>o:s<o;s-=f)l=Yt([a,-u*H(s),-u*X(s)]),n.point(l[0],l[1])}}function ke(n,t){t=In(t),t[0]-=n,Ut(t);var e=dr(-t[1]);return((-t[2]<0?-e:e)+J-O)%J}function _i(){var n=[],t;return{point:function(e,i,r){t.push([e,i,r])},lineStart:function(){n.push(t=[])},lineEnd:tn,rejoin:function(){n.length>1&&n.push(n.pop().concat(n.shift()))},result:function(){var e=n;return n=[],t=null,e}}}function ft(n,t){return F(n[0]-t[0])<O&&F(n[1]-t[1])<O}function rt(n,t,e,i){this.x=n,this.z=t,this.o=e,this.e=i,this.v=!1,this.n=this.p=null}function wi(n,t,e,i,r){var o=[],a=[],u,f;if(n.forEach(function(v){if(!((E=v.length-1)<=0)){var E,_=v[0],y=v[E],w;if(ft(_,y)){if(!_[2]&&!y[2]){for(r.lineStart(),u=0;u<E;++u)r.point((_=v[u])[0],_[1]);r.lineEnd();return}y[0]+=2*O}o.push(w=new rt(_,v,null,!0)),a.push(w.o=new rt(_,null,w,!1)),o.push(w=new rt(y,v,null,!1)),a.push(w.o=new rt(y,null,w,!0))}}),!!o.length){for(a.sort(t),Be(o),Be(a),u=0,f=a.length;u<f;++u)a[u].e=e=!e;for(var l=o[0],s,c;;){for(var h=l,p=!0;h.v;)if((h=h.n)===l)return;s=h.z,r.lineStart();do{if(h.v=h.o.v=!0,h.e){if(p)for(u=0,f=s.length;u<f;++u)r.point((c=s[u])[0],c[1]);else i(h.x,h.n.x,1,r);h=h.n}else{if(p)for(s=h.p.z,u=s.length-1;u>=0;--u)r.point((c=s[u])[0],c[1]);else i(h.x,h.p.x,-1,r);h=h.p}h=h.o,s=h.z,p=!p}while(!h.v);r.lineEnd()}}}function Be(n){if(t=n.length){for(var t,e=0,i=n[0],r;++e<t;)i.n=r=n[e],r.p=i,i=r;i.n=r=n[0],r.p=i}}function kt(n){return F(n[0])<=L?n[0]:fr(n[0])*((F(n[0])+L)%J-L)}function gr(n,t){var e=kt(t),i=t[1],r=X(i),o=[X(e),-H(e),0],a=0,u=0,f=new xn;r===1?i=Z+O:r===-1&&(i=-Z-O);for(var l=0,s=n.length;l<s;++l)if(h=(c=n[l]).length)for(var c,h,p=c[h-1],v=kt(p),E=p[1]/2+Te,_=X(E),y=H(E),w=0;w<h;++w,v=S,_=A,y=I,p=b){var b=c[w],S=kt(b),C=b[1]/2+Te,A=X(C),I=H(C),R=S-v,z=R>=0?1:-1,k=z*R,T=k>L,U=_*A;if(f.add(Yn(U*z*X(k),y*I+U*H(k))),a+=T?R+z*J:R,T^v>=e^S>=e){var D=yt(In(p),In(b));Ut(D);var d=yt(o,D);Ut(d);var m=(T^R>=0?-1:1)*Un(d[2]);(i>m||i===m&&(D[0]||D[1]))&&(u+=T^R>=0?1:-1)}}return(a<-O||a<O&&f<-1e-12)^u&1}function xi(n,t,e,i){return function(r){var o=t(r),a=_i(),u=t(a),f=!1,l,s,c,h={point:p,lineStart:E,lineEnd:_,polygonStart:function(){h.point=y,h.lineStart=w,h.lineEnd=b,s=[],l=[]},polygonEnd:function(){h.point=p,h.lineStart=E,h.lineEnd=_,s=gi(s);var S=gr(l,i);s.length?(f||(r.polygonStart(),f=!0),wi(s,yr,S,e,r)):S&&(f||(r.polygonStart(),f=!0),r.lineStart(),e(null,null,1,r),r.lineEnd()),f&&(r.polygonEnd(),f=!1),s=l=null},sphere:function(){r.polygonStart(),r.lineStart(),e(null,null,1,r),r.lineEnd(),r.polygonEnd()}};function p(S,C){n(S,C)&&r.point(S,C)}function v(S,C){o.point(S,C)}function E(){h.point=v,o.lineStart()}function _(){h.point=p,o.lineEnd()}function y(S,C){c.push([S,C]),u.point(S,C)}function w(){u.lineStart(),c=[]}function b(){y(c[0][0],c[0][1]),u.lineEnd();var S=u.clean(),C=a.result(),A,I=C.length,R,z,k;if(c.pop(),l.push(c),c=null,!!I){if(S&1){if(z=C[0],(R=z.length-1)>0){for(f||(r.polygonStart(),f=!0),r.lineStart(),A=0;A<R;++A)r.point((k=z[A])[0],k[1]);r.lineEnd()}return}I>1&&S&2&&C.push(C.pop().concat(C.shift())),s.push(C.filter(vr))}}return h}}function vr(n){return n.length>1}function yr(n,t){return((n=n.x)[0]<0?n[1]-Z-O:Z-n[1])-((t=t.x)[0]<0?t[1]-Z-O:Z-t[1])}const Oe=xi(function(){return!0},_r,xr,[-L,-Z]);function _r(n){var t=NaN,e=NaN,i=NaN,r;return{lineStart:function(){n.lineStart(),r=1},point:function(o,a){var u=o>0?L:-L,f=F(o-t);F(f-L)<O?(n.point(t,e=(e+a)/2>0?Z:-Z),n.point(i,e),n.lineEnd(),n.lineStart(),n.point(u,e),n.point(o,e),r=0):i!==u&&f>=L&&(F(t-i)<O&&(t-=i*O),F(o-u)<O&&(o-=u*O),e=wr(t,e,o,a),n.point(i,e),n.lineEnd(),n.lineStart(),n.point(u,e),r=0),n.point(t=o,e=a),i=u},lineEnd:function(){n.lineEnd(),t=e=NaN},clean:function(){return 2-r}}}function wr(n,t,e,i){var r,o,a=X(n-e);return F(a)>O?vi((X(t)*(o=H(i))*X(e)-X(i)*(r=H(t))*X(n))/(r*o*a)):(t+i)/2}function xr(n,t,e,i){var r;if(n==null)r=e*Z,i.point(-L,r),i.point(0,r),i.point(L,r),i.point(L,0),i.point(L,-r),i.point(0,-r),i.point(-L,-r),i.point(-L,0),i.point(-L,r);else if(F(n[0]-t[0])>O){var o=n[0]<t[0]?L:-L;r=e*o/2,i.point(-o,r),i.point(0,r),i.point(o,r)}else i.point(t[0],t[1])}function Er(n){var t=H(n),e=2*V,i=t>0,r=F(t)>O;function o(s,c,h,p){mr(p,n,e,h,s,c)}function a(s,c){return H(s)*H(c)>t}function u(s){var c,h,p,v,E;return{lineStart:function(){v=p=!1,E=1},point:function(_,y){var w=[_,y],b,S=a(_,y),C=i?S?0:l(_,y):S?l(_+(_<0?L:-L),y):0;if(!c&&(v=p=S)&&s.lineStart(),S!==p&&(b=f(c,w),(!b||ft(c,b)||ft(w,b))&&(w[2]=1)),S!==p)E=0,S?(s.lineStart(),b=f(w,c),s.point(b[0],b[1])):(b=f(c,w),s.point(b[0],b[1],2),s.lineEnd()),c=b;else if(r&&c&&i^S){var A;!(C&h)&&(A=f(w,c,!0))&&(E=0,i?(s.lineStart(),s.point(A[0][0],A[0][1]),s.point(A[1][0],A[1][1]),s.lineEnd()):(s.point(A[1][0],A[1][1]),s.lineEnd(),s.lineStart(),s.point(A[0][0],A[0][1],3)))}S&&(!c||!ft(c,w))&&s.point(w[0],w[1]),c=w,p=S,h=C},lineEnd:function(){p&&s.lineEnd(),c=null},clean:function(){return E|(v&&p)<<1}}}function f(s,c,h){var p=In(s),v=In(c),E=[1,0,0],_=yt(p,v),y=et(_,_),w=_[0],b=y-w*w;if(!b)return!h&&s;var S=t*y/b,C=-t*w/b,A=yt(E,_),I=it(E,S),R=it(_,C);Lt(I,R);var z=A,k=et(I,z),T=et(z,z),U=k*k-T*(et(I,I)-1);if(!(U<0)){var D=bn(U),d=it(z,(-k-D)/T);if(Lt(d,I),d=Yt(d),!h)return d;var m=s[0],g=c[0],x=s[1],M=c[1],N;g<m&&(N=m,m=g,g=N);var $=g-m,P=F($-L)<O,B=P||$<O;if(!P&&M<x&&(N=x,x=M,M=N),B?P?x+M>0^d[1]<(F(d[0]-m)<O?x:M):x<=d[1]&&d[1]<=M:$>L^(m<=d[0]&&d[0]<=g)){var G=it(z,(-k+D)/T);return Lt(G,I),[d,Yt(G)]}}}function l(s,c){var h=i?n:L-n,p=0;return s<-h?p|=1:s>h&&(p|=2),c<-h?p|=4:c>h&&(p|=8),p}return xi(a,u,o,i?[0,-n]:[-L,n-L])}function Sr(n,t,e,i,r,o){var a=n[0],u=n[1],f=t[0],l=t[1],s=0,c=1,h=f-a,p=l-u,v;if(v=e-a,!(!h&&v>0)){if(v/=h,h<0){if(v<s)return;v<c&&(c=v)}else if(h>0){if(v>c)return;v>s&&(s=v)}if(v=r-a,!(!h&&v<0)){if(v/=h,h<0){if(v>c)return;v>s&&(s=v)}else if(h>0){if(v<s)return;v<c&&(c=v)}if(v=i-u,!(!p&&v>0)){if(v/=p,p<0){if(v<s)return;v<c&&(c=v)}else if(p>0){if(v>c)return;v>s&&(s=v)}if(v=o-u,!(!p&&v<0)){if(v/=p,p<0){if(v>c)return;v>s&&(s=v)}else if(p>0){if(v<s)return;v<c&&(c=v)}return s>0&&(n[0]=a+s*h,n[1]=u+s*p),c<1&&(t[0]=a+c*h,t[1]=u+c*p),!0}}}}}var Bn=1e9,ot=-Bn;function br(n,t,e,i){function r(l,s){return n<=l&&l<=e&&t<=s&&s<=i}function o(l,s,c,h){var p=0,v=0;if(l==null||(p=a(l,c))!==(v=a(s,c))||f(l,s)<0^c>0)do h.point(p===0||p===3?n:e,p>1?i:t);while((p=(p+c+4)%4)!==v);else h.point(s[0],s[1])}function a(l,s){return F(l[0]-n)<O?s>0?0:3:F(l[0]-e)<O?s>0?2:1:F(l[1]-t)<O?s>0?1:0:s>0?3:2}function u(l,s){return f(l.x,s.x)}function f(l,s){var c=a(l,1),h=a(s,1);return c!==h?c-h:c===0?s[1]-l[1]:c===1?l[0]-s[0]:c===2?l[1]-s[1]:s[0]-l[0]}return function(l){var s=l,c=_i(),h,p,v,E,_,y,w,b,S,C,A,I={point:R,lineStart:U,lineEnd:D,polygonStart:k,polygonEnd:T};function R(m,g){r(m,g)&&s.point(m,g)}function z(){for(var m=0,g=0,x=p.length;g<x;++g)for(var M=p[g],N=1,$=M.length,P=M[0],B,G,q=P[0],Y=P[1];N<$;++N)B=q,G=Y,P=M[N],q=P[0],Y=P[1],G<=i?Y>i&&(q-B)*(i-G)>(Y-G)*(n-B)&&++m:Y<=i&&(q-B)*(i-G)<(Y-G)*(n-B)&&--m;return m}function k(){s=c,h=[],p=[],A=!0}function T(){var m=z(),g=A&&m,x=(h=gi(h)).length;(g||x)&&(l.polygonStart(),g&&(l.lineStart(),o(null,null,1,l),l.lineEnd()),x&&wi(h,u,m,o,l),l.polygonEnd()),s=l,h=p=v=null}function U(){I.point=d,p&&p.push(v=[]),C=!0,S=!1,w=b=NaN}function D(){h&&(d(E,_),y&&S&&c.rejoin(),h.push(c.result())),I.point=R,S&&s.lineEnd()}function d(m,g){var x=r(m,g);if(p&&v.push([m,g]),C)E=m,_=g,y=x,C=!1,x&&(s.lineStart(),s.point(m,g));else if(x&&S)s.point(m,g);else{var M=[w=Math.max(ot,Math.min(Bn,w)),b=Math.max(ot,Math.min(Bn,b))],N=[m=Math.max(ot,Math.min(Bn,m)),g=Math.max(ot,Math.min(Bn,g))];Sr(M,N,n,t,e,i)?(S||(s.lineStart(),s.point(M[0],M[1])),s.point(N[0],N[1]),x||s.lineEnd(),A=!1):x&&(s.lineStart(),s.point(m,g),A=!1)}w=m,b=g,S=x}return I}}const Qt=n=>n;var Bt=new xn,Wt=new xn,Ei,Si,Jt,jt,dn={point:tn,lineStart:tn,lineEnd:tn,polygonStart:function(){dn.lineStart=Mr,dn.lineEnd=Ar},polygonEnd:function(){dn.lineStart=dn.lineEnd=dn.point=tn,Bt.add(F(Wt)),Wt=new xn},result:function(){var n=Bt/2;return Bt=new xn,n}};function Mr(){dn.point=Cr}function Cr(n,t){dn.point=bi,Ei=Jt=n,Si=jt=t}function bi(n,t){Wt.add(jt*n-Jt*t),Jt=n,jt=t}function Ar(){bi(Ei,Si)}var Rn=1/0,_t=Rn,Zn=-Rn,wt=Zn,xt={point:Nr,lineStart:tn,lineEnd:tn,polygonStart:tn,polygonEnd:tn,result:function(){var n=[[Rn,_t],[Zn,wt]];return Zn=wt=-(_t=Rn=1/0),n}};function Nr(n,t){n<Rn&&(Rn=n),n>Zn&&(Zn=n),t<_t&&(_t=t),t>wt&&(wt=t)}var ne=0,te=0,On=0,Et=0,St=0,Cn=0,ee=0,ie=0,Dn=0,Mi,Ci,an,un,nn={point:En,lineStart:De,lineEnd:Fe,polygonStart:function(){nn.lineStart=Ir,nn.lineEnd=Rr},polygonEnd:function(){nn.point=En,nn.lineStart=De,nn.lineEnd=Fe},result:function(){var n=Dn?[ee/Dn,ie/Dn]:Cn?[Et/Cn,St/Cn]:On?[ne/On,te/On]:[NaN,NaN];return ne=te=On=Et=St=Cn=ee=ie=Dn=0,n}};function En(n,t){ne+=n,te+=t,++On}function De(){nn.point=Tr}function Tr(n,t){nn.point=$r,En(an=n,un=t)}function $r(n,t){var e=n-an,i=t-un,r=bn(e*e+i*i);Et+=r*(an+n)/2,St+=r*(un+t)/2,Cn+=r,En(an=n,un=t)}function Fe(){nn.point=En}function Ir(){nn.point=zr}function Rr(){Ai(Mi,Ci)}function zr(n,t){nn.point=Ai,En(Mi=an=n,Ci=un=t)}function Ai(n,t){var e=n-an,i=t-un,r=bn(e*e+i*i);Et+=r*(an+n)/2,St+=r*(un+t)/2,Cn+=r,r=un*n-an*t,ee+=r*(an+n),ie+=r*(un+t),Dn+=r*3,En(an=n,un=t)}function Ni(n){this._context=n}Ni.prototype={_radius:4.5,pointRadius:function(n){return this._radius=n,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(n,t){switch(this._point){case 0:{this._context.moveTo(n,t),this._point=1;break}case 1:{this._context.lineTo(n,t);break}default:{this._context.moveTo(n+this._radius,t),this._context.arc(n,t,this._radius,0,J);break}}},result:tn};var re=new xn,Ot,Ti,$i,Fn,qn,Kn={point:tn,lineStart:function(){Kn.point=Pr},lineEnd:function(){Ot&&Ii(Ti,$i),Kn.point=tn},polygonStart:function(){Ot=!0},polygonEnd:function(){Ot=null},result:function(){var n=+re;return re=new xn,n}};function Pr(n,t){Kn.point=Ii,Ti=Fn=n,$i=qn=t}function Ii(n,t){Fn-=n,qn-=t,re.add(bn(Fn*Fn+qn*qn)),Fn=n,qn=t}let qe,bt,He,Xe;class Ge{constructor(t){this._append=t==null?Ri:Lr(t),this._radius=4.5,this._=""}pointRadius(t){return this._radius=+t,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(t,e){switch(this._point){case 0:{this._append`M${t},${e}`,this._point=1;break}case 1:{this._append`L${t},${e}`;break}default:{if(this._append`M${t},${e}`,this._radius!==He||this._append!==bt){const i=this._radius,r=this._;this._="",this._append`m0,${i}a${i},${i} 0 1,1 0,${-2*i}a${i},${i} 0 1,1 0,${2*i}z`,He=i,bt=this._append,Xe=this._,this._=r}this._+=Xe;break}}}result(){const t=this._;return this._="",t.length?t:null}}function Ri(n){let t=1;this._+=n[0];for(const e=n.length;t<e;++t)this._+=arguments[t]+n[t]}function Lr(n){const t=Math.floor(n);if(!(t>=0))throw new RangeError(`invalid digits: ${n}`);if(t>15)return Ri;if(t!==qe){const e=10**t;qe=t,bt=function(r){let o=1;this._+=r[0];for(const a=r.length;o<a;++o)this._+=Math.round(arguments[o]*e)/e+r[o]}}return bt}function kr(n,t){let e=3,i=4.5,r,o;function a(u){return u&&(typeof i=="function"&&o.pointRadius(+i.apply(this,arguments)),Mn(u,r(o))),o.result()}return a.area=function(u){return Mn(u,r(dn)),dn.result()},a.measure=function(u){return Mn(u,r(Kn)),Kn.result()},a.bounds=function(u){return Mn(u,r(xt)),xt.result()},a.centroid=function(u){return Mn(u,r(nn)),nn.result()},a.projection=function(u){return arguments.length?(r=u==null?(n=null,Qt):(n=u).stream,a):n},a.context=function(u){return arguments.length?(o=u==null?(t=null,new Ge(e)):new Ni(t=u),typeof i!="function"&&o.pointRadius(i),a):t},a.pointRadius=function(u){return arguments.length?(i=typeof u=="function"?u:(o.pointRadius(+u),+u),a):i},a.digits=function(u){if(!arguments.length)return e;if(u==null)e=null;else{const f=Math.floor(u);if(!(f>=0))throw new RangeError(`invalid digits: ${u}`);e=f}return t===null&&(o=new Ge(e)),a},a.projection(n).digits(e).context(t)}function ge(n){return function(t){var e=new oe;for(var i in n)e[i]=n[i];return e.stream=t,e}}function oe(){}oe.prototype={constructor:oe,point:function(n,t){this.stream.point(n,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function ve(n,t,e){var i=n.clipExtent&&n.clipExtent();return n.scale(150).translate([0,0]),i!=null&&n.clipExtent(null),Mn(e,n.stream(xt)),t(xt.result()),i!=null&&n.clipExtent(i),n}function zi(n,t,e){return ve(n,function(i){var r=t[1][0]-t[0][0],o=t[1][1]-t[0][1],a=Math.min(r/(i[1][0]-i[0][0]),o/(i[1][1]-i[0][1])),u=+t[0][0]+(r-a*(i[1][0]+i[0][0]))/2,f=+t[0][1]+(o-a*(i[1][1]+i[0][1]))/2;n.scale(150*a).translate([u,f])},e)}function Br(n,t,e){return zi(n,[[0,0],t],e)}function Or(n,t,e){return ve(n,function(i){var r=+t,o=r/(i[1][0]-i[0][0]),a=(r-o*(i[1][0]+i[0][0]))/2,u=-o*i[0][1];n.scale(150*o).translate([a,u])},e)}function Dr(n,t,e){return ve(n,function(i){var r=+t,o=r/(i[1][1]-i[0][1]),a=-o*i[0][0],u=(r-o*(i[1][1]+i[0][1]))/2;n.scale(150*o).translate([a,u])},e)}var Ve=16,Fr=H(30*V);function Ye(n,t){return+t?Hr(n,t):qr(n)}function qr(n){return ge({point:function(t,e){t=n(t,e),this.stream.point(t[0],t[1])}})}function Hr(n,t){function e(i,r,o,a,u,f,l,s,c,h,p,v,E,_){var y=l-i,w=s-r,b=y*y+w*w;if(b>4*t&&E--){var S=a+h,C=u+p,A=f+v,I=bn(S*S+C*C+A*A),R=Un(A/=I),z=F(F(A)-1)<O||F(o-c)<O?(o+c)/2:Yn(C,S),k=n(z,R),T=k[0],U=k[1],D=T-i,d=U-r,m=w*D-y*d;(m*m/b>t||F((y*D+w*d)/b-.5)>.3||a*h+u*p+f*v<Fr)&&(e(i,r,o,a,u,f,T,U,z,S/=I,C/=I,A,E,_),_.point(T,U),e(T,U,z,S,C,A,l,s,c,h,p,v,E,_))}}return function(i){var r,o,a,u,f,l,s,c,h,p,v,E,_={point:y,lineStart:w,lineEnd:S,polygonStart:function(){i.polygonStart(),_.lineStart=C},polygonEnd:function(){i.polygonEnd(),_.lineStart=w}};function y(R,z){R=n(R,z),i.point(R[0],R[1])}function w(){c=NaN,_.point=b,i.lineStart()}function b(R,z){var k=In([R,z]),T=n(R,z);e(c,h,s,p,v,E,c=T[0],h=T[1],s=R,p=k[0],v=k[1],E=k[2],Ve,i),i.point(c,h)}function S(){_.point=y,i.lineEnd()}function C(){w(),_.point=A,_.lineEnd=I}function A(R,z){b(r=R,z),o=c,a=h,u=p,f=v,l=E,_.point=b}function I(){e(c,h,s,p,v,E,o,a,r,u,f,l,Ve,i),_.lineEnd=S,S()}return _}}var Xr=ge({point:function(n,t){this.stream.point(n*V,t*V)}});function Gr(n){return ge({point:function(t,e){var i=n(t,e);return this.stream.point(i[0],i[1])}})}function Vr(n,t,e,i,r){function o(a,u){return a*=i,u*=r,[t+n*a,e-n*u]}return o.invert=function(a,u){return[(a-t)/n*i,(e-u)/n*r]},o}function Ue(n,t,e,i,r,o){if(!o)return Vr(n,t,e,i,r);var a=H(o),u=X(o),f=a*n,l=u*n,s=a/n,c=u/n,h=(u*e-a*t)/n,p=(u*t+a*e)/n;function v(E,_){return E*=i,_*=r,[f*E-l*_+t,e-l*E-f*_]}return v.invert=function(E,_){return[i*(s*E-c*_+h),r*(p-c*E-s*_)]},v}function Yr(n){return Ur(function(){return n})()}function Ur(n){var t,e=150,i=480,r=250,o=0,a=0,u=0,f=0,l=0,s,c=0,h=1,p=1,v=null,E=Oe,_=null,y,w,b,S=Qt,C=.5,A,I,R,z,k;function T(m){return R(m[0]*V,m[1]*V)}function U(m){return m=R.invert(m[0],m[1]),m&&[m[0]*Q,m[1]*Q]}T.stream=function(m){return z&&k===m?z:z=Xr(Gr(s)(E(A(S(k=m)))))},T.preclip=function(m){return arguments.length?(E=m,v=void 0,d()):E},T.postclip=function(m){return arguments.length?(S=m,_=y=w=b=null,d()):S},T.clipAngle=function(m){return arguments.length?(E=+m?Er(v=m*V):(v=null,Oe),d()):v*Q},T.clipExtent=function(m){return arguments.length?(S=m==null?(_=y=w=b=null,Qt):br(_=+m[0][0],y=+m[0][1],w=+m[1][0],b=+m[1][1]),d()):_==null?null:[[_,y],[w,b]]},T.scale=function(m){return arguments.length?(e=+m,D()):e},T.translate=function(m){return arguments.length?(i=+m[0],r=+m[1],D()):[i,r]},T.center=function(m){return arguments.length?(o=m[0]%360*V,a=m[1]%360*V,D()):[o*Q,a*Q]},T.rotate=function(m){return arguments.length?(u=m[0]%360*V,f=m[1]%360*V,l=m.length>2?m[2]%360*V:0,D()):[u*Q,f*Q,l*Q]},T.angle=function(m){return arguments.length?(c=m%360*V,D()):c*Q},T.reflectX=function(m){return arguments.length?(h=m?-1:1,D()):h<0},T.reflectY=function(m){return arguments.length?(p=m?-1:1,D()):p<0},T.precision=function(m){return arguments.length?(A=Ye(I,C=m*m),d()):bn(C)},T.fitExtent=function(m,g){return zi(T,m,g)},T.fitSize=function(m,g){return Br(T,m,g)},T.fitWidth=function(m,g){return Or(T,m,g)},T.fitHeight=function(m,g){return Dr(T,m,g)};function D(){var m=Ue(e,0,0,h,p,c).apply(null,t(o,a)),g=Ue(e,i-m[0],r-m[1],h,p,c);return s=yi(u,f,l),I=Zt(t,g),R=Zt(s,I),A=Ye(I,C),d()}function d(){return z=k=null,T}return function(){return t=n.apply(this,arguments),T.invert=t.invert&&U,D()}}function ye(n,t){return[n,lr(hr((Z+t)/2))]}ye.invert=function(n,t){return[n,2*vi(cr(t))-Z]};function Zr(){return Kr(ye).scale(961/J)}function Kr(n){var t=Yr(n),e=t.center,i=t.scale,r=t.translate,o=t.clipExtent,a=null,u,f,l;t.scale=function(c){return arguments.length?(i(c),s()):i()},t.translate=function(c){return arguments.length?(r(c),s()):r()},t.center=function(c){return arguments.length?(e(c),s()):e()},t.clipExtent=function(c){return arguments.length?(c==null?a=u=f=l=null:(a=+c[0][0],u=+c[0][1],f=+c[1][0],l=+c[1][1]),s()):a==null?null:[[a,u],[f,l]]};function s(){var c=L*i(),h=t(pr(t.rotate()).invert([0,0]));return o(a==null?[[h[0]-c,h[1]-c],[h[0]+c,h[1]+c]]:n===ye?[[Math.max(h[0]-c,a),u],[Math.min(h[0]+c,f),l]]:[[a,Math.max(h[1]-c,u)],[f,Math.min(h[1]+c,l)]])}return s()}var ae="http://www.w3.org/1999/xhtml";const Ze={svg:"http://www.w3.org/2000/svg",xhtml:ae,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function It(n){var t=n+="",e=t.indexOf(":");return e>=0&&(t=n.slice(0,e))!=="xmlns"&&(n=n.slice(e+1)),Ze.hasOwnProperty(t)?{space:Ze[t],local:n}:n}function Qr(n){return function(){var t=this.ownerDocument,e=this.namespaceURI;return e===ae&&t.documentElement.namespaceURI===ae?t.createElement(n):t.createElementNS(e,n)}}function Wr(n){return function(){return this.ownerDocument.createElementNS(n.space,n.local)}}function Pi(n){var t=It(n);return(t.local?Wr:Qr)(t)}function Jr(){}function _e(n){return n==null?Jr:function(){return this.querySelector(n)}}function jr(n){typeof n!="function"&&(n=_e(n));for(var t=this._groups,e=t.length,i=new Array(e),r=0;r<e;++r)for(var o=t[r],a=o.length,u=i[r]=new Array(a),f,l,s=0;s<a;++s)(f=o[s])&&(l=n.call(f,f.__data__,s,o))&&("__data__"in f&&(l.__data__=f.__data__),u[s]=l);return new j(i,this._parents)}function no(n){return n==null?[]:Array.isArray(n)?n:Array.from(n)}function to(){return[]}function Li(n){return n==null?to:function(){return this.querySelectorAll(n)}}function eo(n){return function(){return no(n.apply(this,arguments))}}function io(n){typeof n=="function"?n=eo(n):n=Li(n);for(var t=this._groups,e=t.length,i=[],r=[],o=0;o<e;++o)for(var a=t[o],u=a.length,f,l=0;l<u;++l)(f=a[l])&&(i.push(n.call(f,f.__data__,l,a)),r.push(f));return new j(i,r)}function ki(n){return function(){return this.matches(n)}}function Bi(n){return function(t){return t.matches(n)}}var ro=Array.prototype.find;function oo(n){return function(){return ro.call(this.children,n)}}function ao(){return this.firstElementChild}function uo(n){return this.select(n==null?ao:oo(typeof n=="function"?n:Bi(n)))}var so=Array.prototype.filter;function co(){return Array.from(this.children)}function lo(n){return function(){return so.call(this.children,n)}}function fo(n){return this.selectAll(n==null?co:lo(typeof n=="function"?n:Bi(n)))}function ho(n){typeof n!="function"&&(n=ki(n));for(var t=this._groups,e=t.length,i=new Array(e),r=0;r<e;++r)for(var o=t[r],a=o.length,u=i[r]=[],f,l=0;l<a;++l)(f=o[l])&&n.call(f,f.__data__,l,o)&&u.push(f);return new j(i,this._parents)}function Oi(n){return new Array(n.length)}function po(){return new j(this._enter||this._groups.map(Oi),this._parents)}function Mt(n,t){this.ownerDocument=n.ownerDocument,this.namespaceURI=n.namespaceURI,this._next=null,this._parent=n,this.__data__=t}Mt.prototype={constructor:Mt,appendChild:function(n){return this._parent.insertBefore(n,this._next)},insertBefore:function(n,t){return this._parent.insertBefore(n,t)},querySelector:function(n){return this._parent.querySelector(n)},querySelectorAll:function(n){return this._parent.querySelectorAll(n)}};function mo(n){return function(){return n}}function go(n,t,e,i,r,o){for(var a=0,u,f=t.length,l=o.length;a<l;++a)(u=t[a])?(u.__data__=o[a],i[a]=u):e[a]=new Mt(n,o[a]);for(;a<f;++a)(u=t[a])&&(r[a]=u)}function vo(n,t,e,i,r,o,a){var u,f,l=new Map,s=t.length,c=o.length,h=new Array(s),p;for(u=0;u<s;++u)(f=t[u])&&(h[u]=p=a.call(f,f.__data__,u,t)+"",l.has(p)?r[u]=f:l.set(p,f));for(u=0;u<c;++u)p=a.call(n,o[u],u,o)+"",(f=l.get(p))?(i[u]=f,f.__data__=o[u],l.delete(p)):e[u]=new Mt(n,o[u]);for(u=0;u<s;++u)(f=t[u])&&l.get(h[u])===f&&(r[u]=f)}function yo(n){return n.__data__}function _o(n,t){if(!arguments.length)return Array.from(this,yo);var e=t?vo:go,i=this._parents,r=this._groups;typeof n!="function"&&(n=mo(n));for(var o=r.length,a=new Array(o),u=new Array(o),f=new Array(o),l=0;l<o;++l){var s=i[l],c=r[l],h=c.length,p=wo(n.call(s,s&&s.__data__,l,i)),v=p.length,E=u[l]=new Array(v),_=a[l]=new Array(v),y=f[l]=new Array(h);e(s,c,E,_,y,p,t);for(var w=0,b=0,S,C;w<v;++w)if(S=E[w]){for(w>=b&&(b=w+1);!(C=_[b])&&++b<v;);S._next=C||null}}return a=new j(a,i),a._enter=u,a._exit=f,a}function wo(n){return typeof n=="object"&&"length"in n?n:Array.from(n)}function xo(){return new j(this._exit||this._groups.map(Oi),this._parents)}function Eo(n,t,e){var i=this.enter(),r=this,o=this.exit();return typeof n=="function"?(i=n(i),i&&(i=i.selection())):i=i.append(n+""),t!=null&&(r=t(r),r&&(r=r.selection())),e==null?o.remove():e(o),i&&r?i.merge(r).order():r}function So(n){for(var t=n.selection?n.selection():n,e=this._groups,i=t._groups,r=e.length,o=i.length,a=Math.min(r,o),u=new Array(r),f=0;f<a;++f)for(var l=e[f],s=i[f],c=l.length,h=u[f]=new Array(c),p,v=0;v<c;++v)(p=l[v]||s[v])&&(h[v]=p);for(;f<r;++f)u[f]=e[f];return new j(u,this._parents)}function bo(){for(var n=this._groups,t=-1,e=n.length;++t<e;)for(var i=n[t],r=i.length-1,o=i[r],a;--r>=0;)(a=i[r])&&(o&&a.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(a,o),o=a);return this}function Mo(n){n||(n=Co);function t(c,h){return c&&h?n(c.__data__,h.__data__):!c-!h}for(var e=this._groups,i=e.length,r=new Array(i),o=0;o<i;++o){for(var a=e[o],u=a.length,f=r[o]=new Array(u),l,s=0;s<u;++s)(l=a[s])&&(f[s]=l);f.sort(t)}return new j(r,this._parents).order()}function Co(n,t){return n<t?-1:n>t?1:n>=t?0:NaN}function Ao(){var n=arguments[0];return arguments[0]=this,n.apply(null,arguments),this}function No(){return Array.from(this)}function To(){for(var n=this._groups,t=0,e=n.length;t<e;++t)for(var i=n[t],r=0,o=i.length;r<o;++r){var a=i[r];if(a)return a}return null}function $o(){let n=0;for(const t of this)++n;return n}function Io(){return!this.node()}function Ro(n){for(var t=this._groups,e=0,i=t.length;e<i;++e)for(var r=t[e],o=0,a=r.length,u;o<a;++o)(u=r[o])&&n.call(u,u.__data__,o,r);return this}function zo(n){return function(){this.removeAttribute(n)}}function Po(n){return function(){this.removeAttributeNS(n.space,n.local)}}function Lo(n,t){return function(){this.setAttribute(n,t)}}function ko(n,t){return function(){this.setAttributeNS(n.space,n.local,t)}}function Bo(n,t){return function(){var e=t.apply(this,arguments);e==null?this.removeAttribute(n):this.setAttribute(n,e)}}function Oo(n,t){return function(){var e=t.apply(this,arguments);e==null?this.removeAttributeNS(n.space,n.local):this.setAttributeNS(n.space,n.local,e)}}function Do(n,t){var e=It(n);if(arguments.length<2){var i=this.node();return e.local?i.getAttributeNS(e.space,e.local):i.getAttribute(e)}return this.each((t==null?e.local?Po:zo:typeof t=="function"?e.local?Oo:Bo:e.local?ko:Lo)(e,t))}function Di(n){return n.ownerDocument&&n.ownerDocument.defaultView||n.document&&n||n.defaultView}function Fo(n){return function(){this.style.removeProperty(n)}}function qo(n,t,e){return function(){this.style.setProperty(n,t,e)}}function Ho(n,t,e){return function(){var i=t.apply(this,arguments);i==null?this.style.removeProperty(n):this.style.setProperty(n,i,e)}}function Xo(n,t,e){return arguments.length>1?this.each((t==null?Fo:typeof t=="function"?Ho:qo)(n,t,e??"")):zn(this.node(),n)}function zn(n,t){return n.style.getPropertyValue(t)||Di(n).getComputedStyle(n,null).getPropertyValue(t)}function Go(n){return function(){delete this[n]}}function Vo(n,t){return function(){this[n]=t}}function Yo(n,t){return function(){var e=t.apply(this,arguments);e==null?delete this[n]:this[n]=e}}function Uo(n,t){return arguments.length>1?this.each((t==null?Go:typeof t=="function"?Yo:Vo)(n,t)):this.node()[n]}function Fi(n){return n.trim().split(/^|\s+/)}function we(n){return n.classList||new qi(n)}function qi(n){this._node=n,this._names=Fi(n.getAttribute("class")||"")}qi.prototype={add:function(n){var t=this._names.indexOf(n);t<0&&(this._names.push(n),this._node.setAttribute("class",this._names.join(" ")))},remove:function(n){var t=this._names.indexOf(n);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(n){return this._names.indexOf(n)>=0}};function Hi(n,t){for(var e=we(n),i=-1,r=t.length;++i<r;)e.add(t[i])}function Xi(n,t){for(var e=we(n),i=-1,r=t.length;++i<r;)e.remove(t[i])}function Zo(n){return function(){Hi(this,n)}}function Ko(n){return function(){Xi(this,n)}}function Qo(n,t){return function(){(t.apply(this,arguments)?Hi:Xi)(this,n)}}function Wo(n,t){var e=Fi(n+"");if(arguments.length<2){for(var i=we(this.node()),r=-1,o=e.length;++r<o;)if(!i.contains(e[r]))return!1;return!0}return this.each((typeof t=="function"?Qo:t?Zo:Ko)(e,t))}function Jo(){this.textContent=""}function jo(n){return function(){this.textContent=n}}function na(n){return function(){var t=n.apply(this,arguments);this.textContent=t??""}}function ta(n){return arguments.length?this.each(n==null?Jo:(typeof n=="function"?na:jo)(n)):this.node().textContent}function ea(){this.innerHTML=""}function ia(n){return function(){this.innerHTML=n}}function ra(n){return function(){var t=n.apply(this,arguments);this.innerHTML=t??""}}function oa(n){return arguments.length?this.each(n==null?ea:(typeof n=="function"?ra:ia)(n)):this.node().innerHTML}function aa(){this.nextSibling&&this.parentNode.appendChild(this)}function ua(){return this.each(aa)}function sa(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function ca(){return this.each(sa)}function la(n){var t=typeof n=="function"?n:Pi(n);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function fa(){return null}function ha(n,t){var e=typeof n=="function"?n:Pi(n),i=t==null?fa:typeof t=="function"?t:_e(t);return this.select(function(){return this.insertBefore(e.apply(this,arguments),i.apply(this,arguments)||null)})}function da(){var n=this.parentNode;n&&n.removeChild(this)}function pa(){return this.each(da)}function ma(){var n=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(n,this.nextSibling):n}function ga(){var n=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(n,this.nextSibling):n}function va(n){return this.select(n?ga:ma)}function ya(n){return arguments.length?this.property("__data__",n):this.node().__data__}function _a(n){return function(t){n.call(this,t,this.__data__)}}function wa(n){return n.trim().split(/^|\s+/).map(function(t){var e="",i=t.indexOf(".");return i>=0&&(e=t.slice(i+1),t=t.slice(0,i)),{type:t,name:e}})}function xa(n){return function(){var t=this.__on;if(t){for(var e=0,i=-1,r=t.length,o;e<r;++e)o=t[e],(!n.type||o.type===n.type)&&o.name===n.name?this.removeEventListener(o.type,o.listener,o.options):t[++i]=o;++i?t.length=i:delete this.__on}}}function Ea(n,t,e){return function(){var i=this.__on,r,o=_a(t);if(i){for(var a=0,u=i.length;a<u;++a)if((r=i[a]).type===n.type&&r.name===n.name){this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=o,r.options=e),r.value=t;return}}this.addEventListener(n.type,o,e),r={type:n.type,name:n.name,value:t,listener:o,options:e},i?i.push(r):this.__on=[r]}}function Sa(n,t,e){var i=wa(n+""),r,o=i.length,a;if(arguments.length<2){var u=this.node().__on;if(u){for(var f=0,l=u.length,s;f<l;++f)for(r=0,s=u[f];r<o;++r)if((a=i[r]).type===s.type&&a.name===s.name)return s.value}return}for(u=t?Ea:xa,r=0;r<o;++r)this.each(u(i[r],t,e));return this}function Gi(n,t,e){var i=Di(n),r=i.CustomEvent;typeof r=="function"?r=new r(t,e):(r=i.document.createEvent("Event"),e?(r.initEvent(t,e.bubbles,e.cancelable),r.detail=e.detail):r.initEvent(t,!1,!1)),n.dispatchEvent(r)}function ba(n,t){return function(){return Gi(this,n,t)}}function Ma(n,t){return function(){return Gi(this,n,t.apply(this,arguments))}}function Ca(n,t){return this.each((typeof t=="function"?Ma:ba)(n,t))}function*Aa(){for(var n=this._groups,t=0,e=n.length;t<e;++t)for(var i=n[t],r=0,o=i.length,a;r<o;++r)(a=i[r])&&(yield a)}var Vi=[null];function j(n,t){this._groups=n,this._parents=t}function nt(){return new j([[document.documentElement]],Vi)}function Na(){return this}j.prototype=nt.prototype={constructor:j,select:jr,selectAll:io,selectChild:uo,selectChildren:fo,filter:ho,data:_o,enter:po,exit:xo,join:Eo,merge:So,selection:Na,order:bo,sort:Mo,call:Ao,nodes:No,node:To,size:$o,empty:Io,each:Ro,attr:Do,style:Xo,property:Uo,classed:Wo,text:ta,html:oa,raise:ua,lower:ca,append:la,insert:ha,remove:pa,clone:va,datum:ya,on:Sa,dispatch:Ca,[Symbol.iterator]:Aa};function W(n){return typeof n=="string"?new j([[document.querySelector(n)]],[document.documentElement]):new j([[n]],Vi)}function Ta(n){let t;for(;t=n.sourceEvent;)n=t;return n}function yn(n,t){if(n=Ta(n),t===void 0&&(t=n.currentTarget),t){var e=t.ownerSVGElement||t;if(e.createSVGPoint){var i=e.createSVGPoint();return i.x=n.clientX,i.y=n.clientY,i=i.matrixTransform(t.getScreenCTM().inverse()),[i.x,i.y]}if(t.getBoundingClientRect){var r=t.getBoundingClientRect();return[n.clientX-r.left-t.clientLeft,n.clientY-r.top-t.clientTop]}}return[n.pageX,n.pageY]}var $a={value:()=>{}};function xe(){for(var n=0,t=arguments.length,e={},i;n<t;++n){if(!(i=arguments[n]+"")||i in e||/[\s.]/.test(i))throw new Error("illegal type: "+i);e[i]=[]}return new ht(e)}function ht(n){this._=n}function Ia(n,t){return n.trim().split(/^|\s+/).map(function(e){var i="",r=e.indexOf(".");if(r>=0&&(i=e.slice(r+1),e=e.slice(0,r)),e&&!t.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:i}})}ht.prototype=xe.prototype={constructor:ht,on:function(n,t){var e=this._,i=Ia(n+"",e),r,o=-1,a=i.length;if(arguments.length<2){for(;++o<a;)if((r=(n=i[o]).type)&&(r=Ra(e[r],n.name)))return r;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++o<a;)if(r=(n=i[o]).type)e[r]=Ke(e[r],n.name,t);else if(t==null)for(r in e)e[r]=Ke(e[r],n.name,null);return this},copy:function(){var n={},t=this._;for(var e in t)n[e]=t[e].slice();return new ht(n)},call:function(n,t){if((r=arguments.length-2)>0)for(var e=new Array(r),i=0,r,o;i<r;++i)e[i]=arguments[i+2];if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(o=this._[n],i=0,r=o.length;i<r;++i)o[i].value.apply(t,e)},apply:function(n,t,e){if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(var i=this._[n],r=0,o=i.length;r<o;++r)i[r].value.apply(t,e)}};function Ra(n,t){for(var e=0,i=n.length,r;e<i;++e)if((r=n[e]).name===t)return r.value}function Ke(n,t,e){for(var i=0,r=n.length;i<r;++i)if(n[i].name===t){n[i]=$a,n=n.slice(0,i).concat(n.slice(i+1));break}return e!=null&&n.push({name:t,value:e}),n}const ue={capture:!0,passive:!1};function se(n){n.preventDefault(),n.stopImmediatePropagation()}function za(n){var t=n.document.documentElement,e=W(n).on("dragstart.drag",se,ue);"onselectstart"in t?e.on("selectstart.drag",se,ue):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function Pa(n,t){var e=n.document.documentElement,i=W(n).on("dragstart.drag",null);t&&(i.on("click.drag",se,ue),setTimeout(function(){i.on("click.drag",null)},0)),"onselectstart"in e?i.on("selectstart.drag",null):(e.style.MozUserSelect=e.__noselect,delete e.__noselect)}function Ee(n,t,e){n.prototype=t.prototype=e,e.constructor=n}function Yi(n,t){var e=Object.create(n.prototype);for(var i in t)e[i]=t[i];return e}function tt(){}var Qn=.7,Ct=1/Qn,Tn="\\s*([+-]?\\d+)\\s*",Wn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",sn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",La=/^#([0-9a-f]{3,8})$/,ka=new RegExp(`^rgb\\(${Tn},${Tn},${Tn}\\)$`),Ba=new RegExp(`^rgb\\(${sn},${sn},${sn}\\)$`),Oa=new RegExp(`^rgba\\(${Tn},${Tn},${Tn},${Wn}\\)$`),Da=new RegExp(`^rgba\\(${sn},${sn},${sn},${Wn}\\)$`),Fa=new RegExp(`^hsl\\(${Wn},${sn},${sn}\\)$`),qa=new RegExp(`^hsla\\(${Wn},${sn},${sn},${Wn}\\)$`),Qe={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Ee(tt,Jn,{copy(n){return Object.assign(new this.constructor,this,n)},displayable(){return this.rgb().displayable()},hex:We,formatHex:We,formatHex8:Ha,formatHsl:Xa,formatRgb:Je,toString:Je});function We(){return this.rgb().formatHex()}function Ha(){return this.rgb().formatHex8()}function Xa(){return Ui(this).formatHsl()}function Je(){return this.rgb().formatRgb()}function Jn(n){var t,e;return n=(n+"").trim().toLowerCase(),(t=La.exec(n))?(e=t[1].length,t=parseInt(t[1],16),e===6?je(t):e===3?new K(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):e===8?at(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):e===4?at(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=ka.exec(n))?new K(t[1],t[2],t[3],1):(t=Ba.exec(n))?new K(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Oa.exec(n))?at(t[1],t[2],t[3],t[4]):(t=Da.exec(n))?at(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Fa.exec(n))?ei(t[1],t[2]/100,t[3]/100,1):(t=qa.exec(n))?ei(t[1],t[2]/100,t[3]/100,t[4]):Qe.hasOwnProperty(n)?je(Qe[n]):n==="transparent"?new K(NaN,NaN,NaN,0):null}function je(n){return new K(n>>16&255,n>>8&255,n&255,1)}function at(n,t,e,i){return i<=0&&(n=t=e=NaN),new K(n,t,e,i)}function Ga(n){return n instanceof tt||(n=Jn(n)),n?(n=n.rgb(),new K(n.r,n.g,n.b,n.opacity)):new K}function ce(n,t,e,i){return arguments.length===1?Ga(n):new K(n,t,e,i??1)}function K(n,t,e,i){this.r=+n,this.g=+t,this.b=+e,this.opacity=+i}Ee(K,ce,Yi(tt,{brighter(n){return n=n==null?Ct:Math.pow(Ct,n),new K(this.r*n,this.g*n,this.b*n,this.opacity)},darker(n){return n=n==null?Qn:Math.pow(Qn,n),new K(this.r*n,this.g*n,this.b*n,this.opacity)},rgb(){return this},clamp(){return new K(wn(this.r),wn(this.g),wn(this.b),At(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ni,formatHex:ni,formatHex8:Va,formatRgb:ti,toString:ti}));function ni(){return`#${_n(this.r)}${_n(this.g)}${_n(this.b)}`}function Va(){return`#${_n(this.r)}${_n(this.g)}${_n(this.b)}${_n((isNaN(this.opacity)?1:this.opacity)*255)}`}function ti(){const n=At(this.opacity);return`${n===1?"rgb(":"rgba("}${wn(this.r)}, ${wn(this.g)}, ${wn(this.b)}${n===1?")":`, ${n})`}`}function At(n){return isNaN(n)?1:Math.max(0,Math.min(1,n))}function wn(n){return Math.max(0,Math.min(255,Math.round(n)||0))}function _n(n){return n=wn(n),(n<16?"0":"")+n.toString(16)}function ei(n,t,e,i){return i<=0?n=t=e=NaN:e<=0||e>=1?n=t=NaN:t<=0&&(n=NaN),new rn(n,t,e,i)}function Ui(n){if(n instanceof rn)return new rn(n.h,n.s,n.l,n.opacity);if(n instanceof tt||(n=Jn(n)),!n)return new rn;if(n instanceof rn)return n;n=n.rgb();var t=n.r/255,e=n.g/255,i=n.b/255,r=Math.min(t,e,i),o=Math.max(t,e,i),a=NaN,u=o-r,f=(o+r)/2;return u?(t===o?a=(e-i)/u+(e<i)*6:e===o?a=(i-t)/u+2:a=(t-e)/u+4,u/=f<.5?o+r:2-o-r,a*=60):u=f>0&&f<1?0:a,new rn(a,u,f,n.opacity)}function Ya(n,t,e,i){return arguments.length===1?Ui(n):new rn(n,t,e,i??1)}function rn(n,t,e,i){this.h=+n,this.s=+t,this.l=+e,this.opacity=+i}Ee(rn,Ya,Yi(tt,{brighter(n){return n=n==null?Ct:Math.pow(Ct,n),new rn(this.h,this.s,this.l*n,this.opacity)},darker(n){return n=n==null?Qn:Math.pow(Qn,n),new rn(this.h,this.s,this.l*n,this.opacity)},rgb(){var n=this.h%360+(this.h<0)*360,t=isNaN(n)||isNaN(this.s)?0:this.s,e=this.l,i=e+(e<.5?e:1-e)*t,r=2*e-i;return new K(Dt(n>=240?n-240:n+120,r,i),Dt(n,r,i),Dt(n<120?n+240:n-120,r,i),this.opacity)},clamp(){return new rn(ii(this.h),ut(this.s),ut(this.l),At(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const n=At(this.opacity);return`${n===1?"hsl(":"hsla("}${ii(this.h)}, ${ut(this.s)*100}%, ${ut(this.l)*100}%${n===1?")":`, ${n})`}`}}));function ii(n){return n=(n||0)%360,n<0?n+360:n}function ut(n){return Math.max(0,Math.min(1,n||0))}function Dt(n,t,e){return(n<60?t+(e-t)*n/60:n<180?e:n<240?t+(e-t)*(240-n)/60:t)*255}const Zi=n=>()=>n;function Ua(n,t){return function(e){return n+e*t}}function Za(n,t,e){return n=Math.pow(n,e),t=Math.pow(t,e)-n,e=1/e,function(i){return Math.pow(n+i*t,e)}}function Ka(n){return(n=+n)==1?Ki:function(t,e){return e-t?Za(t,e,n):Zi(isNaN(t)?e:t)}}function Ki(n,t){var e=t-n;return e?Ua(n,e):Zi(isNaN(n)?t:n)}const ri=function n(t){var e=Ka(t);function i(r,o){var a=e((r=ce(r)).r,(o=ce(o)).r),u=e(r.g,o.g),f=e(r.b,o.b),l=Ki(r.opacity,o.opacity);return function(s){return r.r=a(s),r.g=u(s),r.b=f(s),r.opacity=l(s),r+""}}return i.gamma=n,i}(1);function gn(n,t){return n=+n,t=+t,function(e){return n*(1-e)+t*e}}var le=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ft=new RegExp(le.source,"g");function Qa(n){return function(){return n}}function Wa(n){return function(t){return n(t)+""}}function Ja(n,t){var e=le.lastIndex=Ft.lastIndex=0,i,r,o,a=-1,u=[],f=[];for(n=n+"",t=t+"";(i=le.exec(n))&&(r=Ft.exec(t));)(o=r.index)>e&&(o=t.slice(e,o),u[a]?u[a]+=o:u[++a]=o),(i=i[0])===(r=r[0])?u[a]?u[a]+=r:u[++a]=r:(u[++a]=null,f.push({i:a,x:gn(i,r)})),e=Ft.lastIndex;return e<t.length&&(o=t.slice(e),u[a]?u[a]+=o:u[++a]=o),u.length<2?f[0]?Wa(f[0].x):Qa(t):(t=f.length,function(l){for(var s=0,c;s<t;++s)u[(c=f[s]).i]=c.x(l);return u.join("")})}var oi=180/Math.PI,fe={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Qi(n,t,e,i,r,o){var a,u,f;return(a=Math.sqrt(n*n+t*t))&&(n/=a,t/=a),(f=n*e+t*i)&&(e-=n*f,i-=t*f),(u=Math.sqrt(e*e+i*i))&&(e/=u,i/=u,f/=u),n*i<t*e&&(n=-n,t=-t,f=-f,a=-a),{translateX:r,translateY:o,rotate:Math.atan2(t,n)*oi,skewX:Math.atan(f)*oi,scaleX:a,scaleY:u}}var st;function ja(n){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(n+"");return t.isIdentity?fe:Qi(t.a,t.b,t.c,t.d,t.e,t.f)}function nu(n){return n==null||(st||(st=document.createElementNS("http://www.w3.org/2000/svg","g")),st.setAttribute("transform",n),!(n=st.transform.baseVal.consolidate()))?fe:(n=n.matrix,Qi(n.a,n.b,n.c,n.d,n.e,n.f))}function Wi(n,t,e,i){function r(l){return l.length?l.pop()+" ":""}function o(l,s,c,h,p,v){if(l!==c||s!==h){var E=p.push("translate(",null,t,null,e);v.push({i:E-4,x:gn(l,c)},{i:E-2,x:gn(s,h)})}else(c||h)&&p.push("translate("+c+t+h+e)}function a(l,s,c,h){l!==s?(l-s>180?s+=360:s-l>180&&(l+=360),h.push({i:c.push(r(c)+"rotate(",null,i)-2,x:gn(l,s)})):s&&c.push(r(c)+"rotate("+s+i)}function u(l,s,c,h){l!==s?h.push({i:c.push(r(c)+"skewX(",null,i)-2,x:gn(l,s)}):s&&c.push(r(c)+"skewX("+s+i)}function f(l,s,c,h,p,v){if(l!==c||s!==h){var E=p.push(r(p)+"scale(",null,",",null,")");v.push({i:E-4,x:gn(l,c)},{i:E-2,x:gn(s,h)})}else(c!==1||h!==1)&&p.push(r(p)+"scale("+c+","+h+")")}return function(l,s){var c=[],h=[];return l=n(l),s=n(s),o(l.translateX,l.translateY,s.translateX,s.translateY,c,h),a(l.rotate,s.rotate,c,h),u(l.skewX,s.skewX,c,h),f(l.scaleX,l.scaleY,s.scaleX,s.scaleY,c,h),l=s=null,function(p){for(var v=-1,E=h.length,_;++v<E;)c[(_=h[v]).i]=_.x(p);return c.join("")}}}var tu=Wi(ja,"px, ","px)","deg)"),eu=Wi(nu,", ",")",")"),iu=1e-12;function ai(n){return((n=Math.exp(n))+1/n)/2}function ru(n){return((n=Math.exp(n))-1/n)/2}function ou(n){return((n=Math.exp(2*n))-1)/(n+1)}const au=function n(t,e,i){function r(o,a){var u=o[0],f=o[1],l=o[2],s=a[0],c=a[1],h=a[2],p=s-u,v=c-f,E=p*p+v*v,_,y;if(E<iu)y=Math.log(h/l)/t,_=function(I){return[u+I*p,f+I*v,l*Math.exp(t*I*y)]};else{var w=Math.sqrt(E),b=(h*h-l*l+i*E)/(2*l*e*w),S=(h*h-l*l-i*E)/(2*h*e*w),C=Math.log(Math.sqrt(b*b+1)-b),A=Math.log(Math.sqrt(S*S+1)-S);y=(A-C)/t,_=function(I){var R=I*y,z=ai(C),k=l/(e*w)*(z*ou(t*R+C)-ru(C));return[u+k*p,f+k*v,l*z/ai(t*R+C)]}}return _.duration=y*1e3*t/Math.SQRT2,_}return r.rho=function(o){var a=Math.max(.001,+o),u=a*a,f=u*u;return n(a,u,f)},r}(Math.SQRT2,2,4);var Pn=0,Hn=0,Ln=0,Ji=1e3,Nt,Xn,Tt=0,Sn=0,Rt=0,jn=typeof performance=="object"&&performance.now?performance:Date,ji=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(n){setTimeout(n,17)};function Se(){return Sn||(ji(uu),Sn=jn.now()+Rt)}function uu(){Sn=0}function $t(){this._call=this._time=this._next=null}$t.prototype=nr.prototype={constructor:$t,restart:function(n,t,e){if(typeof n!="function")throw new TypeError("callback is not a function");e=(e==null?Se():+e)+(t==null?0:+t),!this._next&&Xn!==this&&(Xn?Xn._next=this:Nt=this,Xn=this),this._call=n,this._time=e,he()},stop:function(){this._call&&(this._call=null,this._time=1/0,he())}};function nr(n,t,e){var i=new $t;return i.restart(n,t,e),i}function su(){Se(),++Pn;for(var n=Nt,t;n;)(t=Sn-n._time)>=0&&n._call.call(void 0,t),n=n._next;--Pn}function ui(){Sn=(Tt=jn.now())+Rt,Pn=Hn=0;try{su()}finally{Pn=0,lu(),Sn=0}}function cu(){var n=jn.now(),t=n-Tt;t>Ji&&(Rt-=t,Tt=n)}function lu(){for(var n,t=Nt,e,i=1/0;t;)t._call?(i>t._time&&(i=t._time),n=t,t=t._next):(e=t._next,t._next=null,t=n?n._next=e:Nt=e);Xn=n,he(i)}function he(n){if(!Pn){Hn&&(Hn=clearTimeout(Hn));var t=n-Sn;t>24?(n<1/0&&(Hn=setTimeout(ui,n-jn.now()-Rt)),Ln&&(Ln=clearInterval(Ln))):(Ln||(Tt=jn.now(),Ln=setInterval(cu,Ji)),Pn=1,ji(ui))}}function si(n,t,e){var i=new $t;return t=t==null?0:+t,i.restart(r=>{i.stop(),n(r+t)},t,e),i}var fu=xe("start","end","cancel","interrupt"),hu=[],tr=0,ci=1,de=2,dt=3,li=4,pe=5,pt=6;function zt(n,t,e,i,r,o){var a=n.__transition;if(!a)n.__transition={};else if(e in a)return;du(n,e,{name:t,index:i,group:r,on:fu,tween:hu,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:tr})}function be(n,t){var e=on(n,t);if(e.state>tr)throw new Error("too late; already scheduled");return e}function cn(n,t){var e=on(n,t);if(e.state>dt)throw new Error("too late; already running");return e}function on(n,t){var e=n.__transition;if(!e||!(e=e[t]))throw new Error("transition not found");return e}function du(n,t,e){var i=n.__transition,r;i[t]=e,e.timer=nr(o,0,e.time);function o(l){e.state=ci,e.timer.restart(a,e.delay,e.time),e.delay<=l&&a(l-e.delay)}function a(l){var s,c,h,p;if(e.state!==ci)return f();for(s in i)if(p=i[s],p.name===e.name){if(p.state===dt)return si(a);p.state===li?(p.state=pt,p.timer.stop(),p.on.call("interrupt",n,n.__data__,p.index,p.group),delete i[s]):+s<t&&(p.state=pt,p.timer.stop(),p.on.call("cancel",n,n.__data__,p.index,p.group),delete i[s])}if(si(function(){e.state===dt&&(e.state=li,e.timer.restart(u,e.delay,e.time),u(l))}),e.state=de,e.on.call("start",n,n.__data__,e.index,e.group),e.state===de){for(e.state=dt,r=new Array(h=e.tween.length),s=0,c=-1;s<h;++s)(p=e.tween[s].value.call(n,n.__data__,e.index,e.group))&&(r[++c]=p);r.length=c+1}}function u(l){for(var s=l<e.duration?e.ease.call(null,l/e.duration):(e.timer.restart(f),e.state=pe,1),c=-1,h=r.length;++c<h;)r[c].call(n,s);e.state===pe&&(e.on.call("end",n,n.__data__,e.index,e.group),f())}function f(){e.state=pt,e.timer.stop(),delete i[t];for(var l in i)return;delete n.__transition}}function mt(n,t){var e=n.__transition,i,r,o=!0,a;if(e){t=t==null?null:t+"";for(a in e){if((i=e[a]).name!==t){o=!1;continue}r=i.state>de&&i.state<pe,i.state=pt,i.timer.stop(),i.on.call(r?"interrupt":"cancel",n,n.__data__,i.index,i.group),delete e[a]}o&&delete n.__transition}}function pu(n){return this.each(function(){mt(this,n)})}function mu(n,t){var e,i;return function(){var r=cn(this,n),o=r.tween;if(o!==e){i=e=o;for(var a=0,u=i.length;a<u;++a)if(i[a].name===t){i=i.slice(),i.splice(a,1);break}}r.tween=i}}function gu(n,t,e){var i,r;if(typeof e!="function")throw new Error;return function(){var o=cn(this,n),a=o.tween;if(a!==i){r=(i=a).slice();for(var u={name:t,value:e},f=0,l=r.length;f<l;++f)if(r[f].name===t){r[f]=u;break}f===l&&r.push(u)}o.tween=r}}function vu(n,t){var e=this._id;if(n+="",arguments.length<2){for(var i=on(this.node(),e).tween,r=0,o=i.length,a;r<o;++r)if((a=i[r]).name===n)return a.value;return null}return this.each((t==null?mu:gu)(e,n,t))}function Me(n,t,e){var i=n._id;return n.each(function(){var r=cn(this,i);(r.value||(r.value={}))[t]=e.apply(this,arguments)}),function(r){return on(r,i).value[t]}}function er(n,t){var e;return(typeof t=="number"?gn:t instanceof Jn?ri:(e=Jn(t))?(t=e,ri):Ja)(n,t)}function yu(n){return function(){this.removeAttribute(n)}}function _u(n){return function(){this.removeAttributeNS(n.space,n.local)}}function wu(n,t,e){var i,r=e+"",o;return function(){var a=this.getAttribute(n);return a===r?null:a===i?o:o=t(i=a,e)}}function xu(n,t,e){var i,r=e+"",o;return function(){var a=this.getAttributeNS(n.space,n.local);return a===r?null:a===i?o:o=t(i=a,e)}}function Eu(n,t,e){var i,r,o;return function(){var a,u=e(this),f;return u==null?void this.removeAttribute(n):(a=this.getAttribute(n),f=u+"",a===f?null:a===i&&f===r?o:(r=f,o=t(i=a,u)))}}function Su(n,t,e){var i,r,o;return function(){var a,u=e(this),f;return u==null?void this.removeAttributeNS(n.space,n.local):(a=this.getAttributeNS(n.space,n.local),f=u+"",a===f?null:a===i&&f===r?o:(r=f,o=t(i=a,u)))}}function bu(n,t){var e=It(n),i=e==="transform"?eu:er;return this.attrTween(n,typeof t=="function"?(e.local?Su:Eu)(e,i,Me(this,"attr."+n,t)):t==null?(e.local?_u:yu)(e):(e.local?xu:wu)(e,i,t))}function Mu(n,t){return function(e){this.setAttribute(n,t.call(this,e))}}function Cu(n,t){return function(e){this.setAttributeNS(n.space,n.local,t.call(this,e))}}function Au(n,t){var e,i;function r(){var o=t.apply(this,arguments);return o!==i&&(e=(i=o)&&Cu(n,o)),e}return r._value=t,r}function Nu(n,t){var e,i;function r(){var o=t.apply(this,arguments);return o!==i&&(e=(i=o)&&Mu(n,o)),e}return r._value=t,r}function Tu(n,t){var e="attr."+n;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;var i=It(n);return this.tween(e,(i.local?Au:Nu)(i,t))}function $u(n,t){return function(){be(this,n).delay=+t.apply(this,arguments)}}function Iu(n,t){return t=+t,function(){be(this,n).delay=t}}function Ru(n){var t=this._id;return arguments.length?this.each((typeof n=="function"?$u:Iu)(t,n)):on(this.node(),t).delay}function zu(n,t){return function(){cn(this,n).duration=+t.apply(this,arguments)}}function Pu(n,t){return t=+t,function(){cn(this,n).duration=t}}function Lu(n){var t=this._id;return arguments.length?this.each((typeof n=="function"?zu:Pu)(t,n)):on(this.node(),t).duration}function ku(n,t){if(typeof t!="function")throw new Error;return function(){cn(this,n).ease=t}}function Bu(n){var t=this._id;return arguments.length?this.each(ku(t,n)):on(this.node(),t).ease}function Ou(n,t){return function(){var e=t.apply(this,arguments);if(typeof e!="function")throw new Error;cn(this,n).ease=e}}function Du(n){if(typeof n!="function")throw new Error;return this.each(Ou(this._id,n))}function Fu(n){typeof n!="function"&&(n=ki(n));for(var t=this._groups,e=t.length,i=new Array(e),r=0;r<e;++r)for(var o=t[r],a=o.length,u=i[r]=[],f,l=0;l<a;++l)(f=o[l])&&n.call(f,f.__data__,l,o)&&u.push(f);return new mn(i,this._parents,this._name,this._id)}function qu(n){if(n._id!==this._id)throw new Error;for(var t=this._groups,e=n._groups,i=t.length,r=e.length,o=Math.min(i,r),a=new Array(i),u=0;u<o;++u)for(var f=t[u],l=e[u],s=f.length,c=a[u]=new Array(s),h,p=0;p<s;++p)(h=f[p]||l[p])&&(c[p]=h);for(;u<i;++u)a[u]=t[u];return new mn(a,this._parents,this._name,this._id)}function Hu(n){return(n+"").trim().split(/^|\s+/).every(function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||t==="start"})}function Xu(n,t,e){var i,r,o=Hu(t)?be:cn;return function(){var a=o(this,n),u=a.on;u!==i&&(r=(i=u).copy()).on(t,e),a.on=r}}function Gu(n,t){var e=this._id;return arguments.length<2?on(this.node(),e).on.on(n):this.each(Xu(e,n,t))}function Vu(n){return function(){var t=this.parentNode;for(var e in this.__transition)if(+e!==n)return;t&&t.removeChild(this)}}function Yu(){return this.on("end.remove",Vu(this._id))}function Uu(n){var t=this._name,e=this._id;typeof n!="function"&&(n=_e(n));for(var i=this._groups,r=i.length,o=new Array(r),a=0;a<r;++a)for(var u=i[a],f=u.length,l=o[a]=new Array(f),s,c,h=0;h<f;++h)(s=u[h])&&(c=n.call(s,s.__data__,h,u))&&("__data__"in s&&(c.__data__=s.__data__),l[h]=c,zt(l[h],t,e,h,l,on(s,e)));return new mn(o,this._parents,t,e)}function Zu(n){var t=this._name,e=this._id;typeof n!="function"&&(n=Li(n));for(var i=this._groups,r=i.length,o=[],a=[],u=0;u<r;++u)for(var f=i[u],l=f.length,s,c=0;c<l;++c)if(s=f[c]){for(var h=n.call(s,s.__data__,c,f),p,v=on(s,e),E=0,_=h.length;E<_;++E)(p=h[E])&&zt(p,t,e,E,h,v);o.push(h),a.push(s)}return new mn(o,a,t,e)}var Ku=nt.prototype.constructor;function Qu(){return new Ku(this._groups,this._parents)}function Wu(n,t){var e,i,r;return function(){var o=zn(this,n),a=(this.style.removeProperty(n),zn(this,n));return o===a?null:o===e&&a===i?r:r=t(e=o,i=a)}}function ir(n){return function(){this.style.removeProperty(n)}}function Ju(n,t,e){var i,r=e+"",o;return function(){var a=zn(this,n);return a===r?null:a===i?o:o=t(i=a,e)}}function ju(n,t,e){var i,r,o;return function(){var a=zn(this,n),u=e(this),f=u+"";return u==null&&(f=u=(this.style.removeProperty(n),zn(this,n))),a===f?null:a===i&&f===r?o:(r=f,o=t(i=a,u))}}function ns(n,t){var e,i,r,o="style."+t,a="end."+o,u;return function(){var f=cn(this,n),l=f.on,s=f.value[o]==null?u||(u=ir(t)):void 0;(l!==e||r!==s)&&(i=(e=l).copy()).on(a,r=s),f.on=i}}function ts(n,t,e){var i=(n+="")=="transform"?tu:er;return t==null?this.styleTween(n,Wu(n,i)).on("end.style."+n,ir(n)):typeof t=="function"?this.styleTween(n,ju(n,i,Me(this,"style."+n,t))).each(ns(this._id,n)):this.styleTween(n,Ju(n,i,t),e).on("end.style."+n,null)}function es(n,t,e){return function(i){this.style.setProperty(n,t.call(this,i),e)}}function is(n,t,e){var i,r;function o(){var a=t.apply(this,arguments);return a!==r&&(i=(r=a)&&es(n,a,e)),i}return o._value=t,o}function rs(n,t,e){var i="style."+(n+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(t==null)return this.tween(i,null);if(typeof t!="function")throw new Error;return this.tween(i,is(n,t,e??""))}function os(n){return function(){this.textContent=n}}function as(n){return function(){var t=n(this);this.textContent=t??""}}function us(n){return this.tween("text",typeof n=="function"?as(Me(this,"text",n)):os(n==null?"":n+""))}function ss(n){return function(t){this.textContent=n.call(this,t)}}function cs(n){var t,e;function i(){var r=n.apply(this,arguments);return r!==e&&(t=(e=r)&&ss(r)),t}return i._value=n,i}function ls(n){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(n==null)return this.tween(t,null);if(typeof n!="function")throw new Error;return this.tween(t,cs(n))}function fs(){for(var n=this._name,t=this._id,e=rr(),i=this._groups,r=i.length,o=0;o<r;++o)for(var a=i[o],u=a.length,f,l=0;l<u;++l)if(f=a[l]){var s=on(f,t);zt(f,n,e,l,a,{time:s.time+s.delay+s.duration,delay:0,duration:s.duration,ease:s.ease})}return new mn(i,this._parents,n,e)}function hs(){var n,t,e=this,i=e._id,r=e.size();return new Promise(function(o,a){var u={value:a},f={value:function(){--r===0&&o()}};e.each(function(){var l=cn(this,i),s=l.on;s!==n&&(t=(n=s).copy(),t._.cancel.push(u),t._.interrupt.push(u),t._.end.push(f)),l.on=t}),r===0&&o()})}var ds=0;function mn(n,t,e,i){this._groups=n,this._parents=t,this._name=e,this._id=i}function rr(){return++ds}var hn=nt.prototype;mn.prototype={constructor:mn,select:Uu,selectAll:Zu,selectChild:hn.selectChild,selectChildren:hn.selectChildren,filter:Fu,merge:qu,selection:Qu,transition:fs,call:hn.call,nodes:hn.nodes,node:hn.node,size:hn.size,empty:hn.empty,each:hn.each,on:Gu,attr:bu,attrTween:Tu,style:ts,styleTween:rs,text:us,textTween:ls,remove:Yu,tween:vu,delay:Ru,duration:Lu,ease:Bu,easeVarying:Du,end:hs,[Symbol.iterator]:hn[Symbol.iterator]};function ps(n){return((n*=2)<=1?n*n*n:(n-=2)*n*n+2)/2}var ms={time:null,delay:0,duration:250,ease:ps};function gs(n,t){for(var e;!(e=n.__transition)||!(e=e[t]);)if(!(n=n.parentNode))throw new Error(`transition ${t} not found`);return e}function vs(n){var t,e;n instanceof mn?(t=n._id,n=n._name):(t=rr(),(e=ms).time=Se(),n=n==null?null:n+"");for(var i=this._groups,r=i.length,o=0;o<r;++o)for(var a=i[o],u=a.length,f,l=0;l<u;++l)(f=a[l])&&zt(f,n,t,l,a,e||gs(f,t));return new mn(i,this._parents,n,t)}nt.prototype.interrupt=pu;nt.prototype.transition=vs;const ct=n=>()=>n;function ys(n,{sourceEvent:t,target:e,transform:i,dispatch:r}){Object.defineProperties(this,{type:{value:n,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:e,enumerable:!0,configurable:!0},transform:{value:i,enumerable:!0,configurable:!0},_:{value:r}})}function pn(n,t,e){this.k=n,this.x=t,this.y=e}pn.prototype={constructor:pn,scale:function(n){return n===1?this:new pn(this.k*n,this.x,this.y)},translate:function(n,t){return n===0&t===0?this:new pn(this.k,this.x+this.k*n,this.y+this.k*t)},apply:function(n){return[n[0]*this.k+this.x,n[1]*this.k+this.y]},applyX:function(n){return n*this.k+this.x},applyY:function(n){return n*this.k+this.y},invert:function(n){return[(n[0]-this.x)/this.k,(n[1]-this.y)/this.k]},invertX:function(n){return(n-this.x)/this.k},invertY:function(n){return(n-this.y)/this.k},rescaleX:function(n){return n.copy().domain(n.range().map(this.invertX,this).map(n.invert,n))},rescaleY:function(n){return n.copy().domain(n.range().map(this.invertY,this).map(n.invert,n))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Ce=new pn(1,0,0);pn.prototype;function qt(n){n.stopImmediatePropagation()}function kn(n){n.preventDefault(),n.stopImmediatePropagation()}function _s(n){return(!n.ctrlKey||n.type==="wheel")&&!n.button}function ws(){var n=this;return n instanceof SVGElement?(n=n.ownerSVGElement||n,n.hasAttribute("viewBox")?(n=n.viewBox.baseVal,[[n.x,n.y],[n.x+n.width,n.y+n.height]]):[[0,0],[n.width.baseVal.value,n.height.baseVal.value]]):[[0,0],[n.clientWidth,n.clientHeight]]}function fi(){return this.__zoom||Ce}function xs(n){return-n.deltaY*(n.deltaMode===1?.05:n.deltaMode?1:.002)*(n.ctrlKey?10:1)}function Es(){return navigator.maxTouchPoints||"ontouchstart"in this}function Ss(n,t,e){var i=n.invertX(t[0][0])-e[0][0],r=n.invertX(t[1][0])-e[1][0],o=n.invertY(t[0][1])-e[0][1],a=n.invertY(t[1][1])-e[1][1];return n.translate(r>i?(i+r)/2:Math.min(0,i)||Math.max(0,r),a>o?(o+a)/2:Math.min(0,o)||Math.max(0,a))}function bs(){var n=_s,t=ws,e=Ss,i=xs,r=Es,o=[0,1/0],a=[[-1/0,-1/0],[1/0,1/0]],u=250,f=au,l=xe("start","zoom","end"),s,c,h,p=500,v=150,E=0,_=10;function y(d){d.property("__zoom",fi).on("wheel.zoom",R,{passive:!1}).on("mousedown.zoom",z).on("dblclick.zoom",k).filter(r).on("touchstart.zoom",T).on("touchmove.zoom",U).on("touchend.zoom touchcancel.zoom",D).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}y.transform=function(d,m,g,x){var M=d.selection?d.selection():d;M.property("__zoom",fi),d!==M?C(d,m,g,x):M.interrupt().each(function(){A(this,arguments).event(x).start().zoom(null,typeof m=="function"?m.apply(this,arguments):m).end()})},y.scaleBy=function(d,m,g,x){y.scaleTo(d,function(){var M=this.__zoom.k,N=typeof m=="function"?m.apply(this,arguments):m;return M*N},g,x)},y.scaleTo=function(d,m,g,x){y.transform(d,function(){var M=t.apply(this,arguments),N=this.__zoom,$=g==null?S(M):typeof g=="function"?g.apply(this,arguments):g,P=N.invert($),B=typeof m=="function"?m.apply(this,arguments):m;return e(b(w(N,B),$,P),M,a)},g,x)},y.translateBy=function(d,m,g,x){y.transform(d,function(){return e(this.__zoom.translate(typeof m=="function"?m.apply(this,arguments):m,typeof g=="function"?g.apply(this,arguments):g),t.apply(this,arguments),a)},null,x)},y.translateTo=function(d,m,g,x,M){y.transform(d,function(){var N=t.apply(this,arguments),$=this.__zoom,P=x==null?S(N):typeof x=="function"?x.apply(this,arguments):x;return e(Ce.translate(P[0],P[1]).scale($.k).translate(typeof m=="function"?-m.apply(this,arguments):-m,typeof g=="function"?-g.apply(this,arguments):-g),N,a)},x,M)};function w(d,m){return m=Math.max(o[0],Math.min(o[1],m)),m===d.k?d:new pn(m,d.x,d.y)}function b(d,m,g){var x=m[0]-g[0]*d.k,M=m[1]-g[1]*d.k;return x===d.x&&M===d.y?d:new pn(d.k,x,M)}function S(d){return[(+d[0][0]+ +d[1][0])/2,(+d[0][1]+ +d[1][1])/2]}function C(d,m,g,x){d.on("start.zoom",function(){A(this,arguments).event(x).start()}).on("interrupt.zoom end.zoom",function(){A(this,arguments).event(x).end()}).tween("zoom",function(){var M=this,N=arguments,$=A(M,N).event(x),P=t.apply(M,N),B=g==null?S(P):typeof g=="function"?g.apply(M,N):g,G=Math.max(P[1][0]-P[0][0],P[1][1]-P[0][1]),q=M.__zoom,Y=typeof m=="function"?m.apply(M,N):m,ln=f(q.invert(B).concat(G/q.k),Y.invert(B).concat(G/Y.k));return function(en){if(en===1)en=Y;else{var fn=ln(en),Pt=G/fn[2];en=new pn(Pt,B[0]-fn[0]*Pt,B[1]-fn[1]*Pt)}$.zoom(null,en)}})}function A(d,m,g){return!g&&d.__zooming||new I(d,m)}function I(d,m){this.that=d,this.args=m,this.active=0,this.sourceEvent=null,this.extent=t.apply(d,m),this.taps=0}I.prototype={event:function(d){return d&&(this.sourceEvent=d),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(d,m){return this.mouse&&d!=="mouse"&&(this.mouse[1]=m.invert(this.mouse[0])),this.touch0&&d!=="touch"&&(this.touch0[1]=m.invert(this.touch0[0])),this.touch1&&d!=="touch"&&(this.touch1[1]=m.invert(this.touch1[0])),this.that.__zoom=m,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(d){var m=W(this.that).datum();l.call(d,this.that,new ys(d,{sourceEvent:this.sourceEvent,target:y,transform:this.that.__zoom,dispatch:l}),m)}};function R(d,...m){if(!n.apply(this,arguments))return;var g=A(this,m).event(d),x=this.__zoom,M=Math.max(o[0],Math.min(o[1],x.k*Math.pow(2,i.apply(this,arguments)))),N=yn(d);if(g.wheel)(g.mouse[0][0]!==N[0]||g.mouse[0][1]!==N[1])&&(g.mouse[1]=x.invert(g.mouse[0]=N)),clearTimeout(g.wheel);else{if(x.k===M)return;g.mouse=[N,x.invert(N)],mt(this),g.start()}kn(d),g.wheel=setTimeout($,v),g.zoom("mouse",e(b(w(x,M),g.mouse[0],g.mouse[1]),g.extent,a));function $(){g.wheel=null,g.end()}}function z(d,...m){if(h||!n.apply(this,arguments))return;var g=d.currentTarget,x=A(this,m,!0).event(d),M=W(d.view).on("mousemove.zoom",B,!0).on("mouseup.zoom",G,!0),N=yn(d,g),$=d.clientX,P=d.clientY;za(d.view),qt(d),x.mouse=[N,this.__zoom.invert(N)],mt(this),x.start();function B(q){if(kn(q),!x.moved){var Y=q.clientX-$,ln=q.clientY-P;x.moved=Y*Y+ln*ln>E}x.event(q).zoom("mouse",e(b(x.that.__zoom,x.mouse[0]=yn(q,g),x.mouse[1]),x.extent,a))}function G(q){M.on("mousemove.zoom mouseup.zoom",null),Pa(q.view,x.moved),kn(q),x.event(q).end()}}function k(d,...m){if(n.apply(this,arguments)){var g=this.__zoom,x=yn(d.changedTouches?d.changedTouches[0]:d,this),M=g.invert(x),N=g.k*(d.shiftKey?.5:2),$=e(b(w(g,N),x,M),t.apply(this,m),a);kn(d),u>0?W(this).transition().duration(u).call(C,$,x,d):W(this).call(y.transform,$,x,d)}}function T(d,...m){if(n.apply(this,arguments)){var g=d.touches,x=g.length,M=A(this,m,d.changedTouches.length===x).event(d),N,$,P,B;for(qt(d),$=0;$<x;++$)P=g[$],B=yn(P,this),B=[B,this.__zoom.invert(B),P.identifier],M.touch0?!M.touch1&&M.touch0[2]!==B[2]&&(M.touch1=B,M.taps=0):(M.touch0=B,N=!0,M.taps=1+!!s);s&&(s=clearTimeout(s)),N&&(M.taps<2&&(c=B[0],s=setTimeout(function(){s=null},p)),mt(this),M.start())}}function U(d,...m){if(this.__zooming){var g=A(this,m).event(d),x=d.changedTouches,M=x.length,N,$,P,B;for(kn(d),N=0;N<M;++N)$=x[N],P=yn($,this),g.touch0&&g.touch0[2]===$.identifier?g.touch0[0]=P:g.touch1&&g.touch1[2]===$.identifier&&(g.touch1[0]=P);if($=g.that.__zoom,g.touch1){var G=g.touch0[0],q=g.touch0[1],Y=g.touch1[0],ln=g.touch1[1],en=(en=Y[0]-G[0])*en+(en=Y[1]-G[1])*en,fn=(fn=ln[0]-q[0])*fn+(fn=ln[1]-q[1])*fn;$=w($,Math.sqrt(en/fn)),P=[(G[0]+Y[0])/2,(G[1]+Y[1])/2],B=[(q[0]+ln[0])/2,(q[1]+ln[1])/2]}else if(g.touch0)P=g.touch0[0],B=g.touch0[1];else return;g.zoom("touch",e(b($,P,B),g.extent,a))}}function D(d,...m){if(this.__zooming){var g=A(this,m).event(d),x=d.changedTouches,M=x.length,N,$;for(qt(d),h&&clearTimeout(h),h=setTimeout(function(){h=null},p),N=0;N<M;++N)$=x[N],g.touch0&&g.touch0[2]===$.identifier?delete g.touch0:g.touch1&&g.touch1[2]===$.identifier&&delete g.touch1;if(g.touch1&&!g.touch0&&(g.touch0=g.touch1,delete g.touch1),g.touch0)g.touch0[1]=this.__zoom.invert(g.touch0[0]);else if(g.end(),g.taps===2&&($=yn($,this),Math.hypot(c[0]-$[0],c[1]-$[1])<_)){var P=W(this).on("dblclick.zoom");P&&P.apply(this,arguments)}}}return y.wheelDelta=function(d){return arguments.length?(i=typeof d=="function"?d:ct(+d),y):i},y.filter=function(d){return arguments.length?(n=typeof d=="function"?d:ct(!!d),y):n},y.touchable=function(d){return arguments.length?(r=typeof d=="function"?d:ct(!!d),y):r},y.extent=function(d){return arguments.length?(t=typeof d=="function"?d:ct([[+d[0][0],+d[0][1]],[+d[1][0],+d[1][1]]]),y):t},y.scaleExtent=function(d){return arguments.length?(o[0]=+d[0],o[1]=+d[1],y):[o[0],o[1]]},y.translateExtent=function(d){return arguments.length?(a[0][0]=+d[0][0],a[1][0]=+d[1][0],a[0][1]=+d[0][1],a[1][1]=+d[1][1],y):[[a[0][0],a[0][1]],[a[1][0],a[1][1]]]},y.constrain=function(d){return arguments.length?(e=d,y):e},y.duration=function(d){return arguments.length?(u=+d,y):u},y.interpolate=function(d){return arguments.length?(f=d,y):f},y.on=function(){var d=l.on.apply(l,arguments);return d===l?y:d},y.clickDistance=function(d){return arguments.length?(E=(d=+d)*d,y):Math.sqrt(E)},y.tapDistance=function(d){return arguments.length?(_=+d,y):_},y}function Ms(n){return n}function Cs(n){if(n==null)return Ms;var t,e,i=n.scale[0],r=n.scale[1],o=n.translate[0],a=n.translate[1];return function(u,f){f||(t=e=0);var l=2,s=u.length,c=new Array(s);for(c[0]=(t+=u[0])*i+o,c[1]=(e+=u[1])*r+a;l<s;)c[l]=u[l],++l;return c}}function As(n,t){for(var e,i=n.length,r=i-t;r<--i;)e=n[r],n[r++]=n[i],n[i]=e}function Ns(n,t){return typeof t=="string"&&(t=n.objects[t]),t.type==="GeometryCollection"?{type:"FeatureCollection",features:t.geometries.map(function(e){return hi(n,e)})}:hi(n,t)}function hi(n,t){var e=t.id,i=t.bbox,r=t.properties==null?{}:t.properties,o=Ts(n,t);return e==null&&i==null?{type:"Feature",properties:r,geometry:o}:i==null?{type:"Feature",id:e,properties:r,geometry:o}:{type:"Feature",id:e,bbox:i,properties:r,geometry:o}}function Ts(n,t){var e=Cs(n.transform),i=n.arcs;function r(s,c){c.length&&c.pop();for(var h=i[s<0?~s:s],p=0,v=h.length;p<v;++p)c.push(e(h[p],p));s<0&&As(c,v)}function o(s){return e(s)}function a(s){for(var c=[],h=0,p=s.length;h<p;++h)r(s[h],c);return c.length<2&&c.push(c[0]),c}function u(s){for(var c=a(s);c.length<4;)c.push(c[0]);return c}function f(s){return s.map(u)}function l(s){var c=s.type,h;switch(c){case"GeometryCollection":return{type:c,geometries:s.geometries.map(l)};case"Point":h=o(s.coordinates);break;case"MultiPoint":h=s.coordinates.map(o);break;case"LineString":h=a(s.arcs);break;case"MultiLineString":h=s.arcs.map(a);break;case"Polygon":h=f(s.arcs);break;case"MultiPolygon":h=s.arcs.map(f);break;default:return null}return{type:c,coordinates:h}}return l(t)}const $s="https://cdn.jsdelivr.net/npm/world-atlas@2/countries-110m.json";let An=null;async function Is(){return An||(An=await(await fetch($s)).json(),An)}function di(n){const t=n.id;return t==null?"":String(t)}function Rs(n,t,e,i){const a=Zr().scale(120).translate([480,333.3333333333333]),u=kr().projection(a),f=new Map(t.map(y=>[y.id,y])),l=Ns(An,An.objects.countries),s=y=>{const w=di(y);return e.has(w)?"#22c55e":"#334155"},c=W(n);c.selectAll("*").remove();const h=c.append("g").attr("class","map-layer"),p=h.selectAll("path").data(l.features).join("path").attr("d",y=>u(y)??"").attr("fill",y=>s(y)).attr("stroke","#1e293b").attr("stroke-width",.3).style("cursor","pointer").on("mouseenter",function(y,w){var I;const b=di(w),S=f.get(b),C=S?S.name:((I=w.properties)==null?void 0:I.name)??"—",A=e.has(b);W(this).attr("fill",A?"#16a34a":"#475569"),i({name:String(C),discovered:A})}).on("mouseleave",function(){const y=W(this).datum();W(this).attr("fill",s(y)),i(null)}),v=bs().scaleExtent([.5,20]).on("zoom",y=>{h.attr("transform",y.transform.toString())});c.call(v);function E(){p.attr("fill",y=>s(y))}function _(){c.call(v.transform,Ce)}return{updateColors:E,resetZoom:_}}function or(n,t){const e=i=>{const r=i.id!=null?String(i.id):"";return t.has(r)?"#22c55e":"#334155"};W(n).select(".map-layer").selectAll("path").attr("fill",function(){const i=W(this).datum();return e(i)})}const ar=15*60,lt=document.getElementById("app");let Gn=null,$n=ar;const vn=new Set;let Nn=!1,Vn=null;function Ht(n){return n.toLowerCase().normalize("NFD").replace(new RegExp("\\p{Diacritic}","gu"),"").replace(/\s+/g," ").trim()}function zs(n){var e;const t=Ht(n);if(!t)return null;for(const i of gt)if(Ht(i.name)===t||(e=i.alternates)!=null&&e.some(r=>Ht(r)===t))return i;return null}function Ae(n){const t=Math.floor(n/60),e=n%60;return`${t.toString().padStart(2,"0")}:${e.toString().padStart(2,"0")}`}function Xt(){if(Gn!=null||Nn)return;const n=document.getElementById("timer");n&&(Gn=window.setInterval(()=>{if($n--,n.textContent=Ae($n),$n<=0){Ne();const t=document.getElementById("input-country");t&&(t.disabled=!0)}},1e3))}function Ne(){Gn!=null&&(clearInterval(Gn),Gn=null)}function Ps(n,t){n.textContent=t,n.classList.remove("hidden"),n.setAttribute("aria-hidden","false")}function pi(n){n.classList.add("hidden"),n.setAttribute("aria-hidden","true")}function Ls(){const n=new Map;for(const t of gt){const e=n.get(t.continent)??[];e.push(t),n.set(t.continent,e)}return n}function me(n,t){const e=Ls();n.innerHTML=ur.map(i=>{const r=e.get(i)??[];if(r.length===0)return"";const o=r.map(a=>{const u=vn.has(a.id);return`<li class="${u?"discovered":"empty"}">${u?a.name:"—"}</li>`}).join("");return`<section class="continent-block"><h3>${i}</h3><ul>${o}</ul></section>`}).join(""),t.textContent=String(vn.size)}function mi(){Ne(),$n=ar,vn.clear(),Nn=!1;const n=document.getElementById("timer");n&&(n.textContent=Ae($n));const t=document.getElementById("input-country");t&&(t.disabled=!1,t.value="");const e=document.getElementById("list-by-continent"),i=document.getElementById("count");e&&i&&me(e,i),Vn&&or(Vn,vn)}function ks(){const n=document.getElementById("pause-overlay"),t=document.getElementById("game-content"),e=document.getElementById("game-header");n&&n.classList.remove("hidden"),t&&t.classList.add("hidden"),e&&e.classList.add("hidden")}function Gt(){const n=document.getElementById("pause-overlay"),t=document.getElementById("game-content"),e=document.getElementById("game-header");n&&n.classList.add("hidden"),t&&t.classList.remove("hidden"),e&&e.classList.remove("hidden")}async function Bs(){var E;await Is(),lt.innerHTML="";const n=document.createElement("header");n.id="game-header",n.className="header",n.innerHTML=`
    <h1>Quiz dos Países do Mundo</h1>
    <div class="header-actions">
      <div class="timer-row">
        <span class="timer-label">Tempo restante</span>
        <span id="timer" class="timer">${Ae($n)}</span>
      </div>
      <button type="button" id="btn-restart-header" class="btn btn-secondary">Recomeçar</button>
      <button type="button" id="btn-pause" class="btn btn-pause">Pausar</button>
    </div>
  `,lt.appendChild(n);const t=document.createElement("main");t.className="main",t.id="game-content",t.innerHTML=`
    <div class="top-section">
      <div class="input-section">
        <label for="input-country">Digite o nome do país (em português)</label>
        <input type="text" id="input-country" autocomplete="off" />
        <p id="feedback" class="feedback"></p>
      </div>
      <div id="tooltip" class="tooltip hidden" aria-hidden="true"></div>
      <div class="map-wrap">
        <button type="button" id="btn-reset-map" class="btn btn-map-reset" title="Tamanho padrão do mapa">Tamanho padrão</button>
        <svg id="map-svg" viewBox="0 0 960 500" preserveAspectRatio="xMidYMid meet"></svg>
      </div>
    </div>
    <div class="list-section">
      <h2>Países descobertos <span id="count">0</span>/${gt.length}</h2>
      <div id="list-by-continent" class="list-by-continent"></div>
    </div>
  `,lt.appendChild(t);const e=document.createElement("div");e.id="pause-overlay",e.className="pause-overlay hidden",e.innerHTML=`
    <div class="pause-card">
      <h2>Jogo pausado</h2>
      <p class="pause-desc">Escolha uma opção para continuar.</p>
      <div class="pause-actions">
        <button type="button" id="btn-unpause" class="btn btn-primary">Despausar</button>
        <button type="button" id="btn-restart" class="btn btn-secondary">Começar novamente</button>
      </div>
    </div>
  `,lt.appendChild(e);const i=document.getElementById("input-country"),r=document.getElementById("feedback"),o=document.getElementById("tooltip"),a=document.getElementById("list-by-continent"),u=document.getElementById("count"),f=document.getElementById("map-svg");if(!f)return;Vn=f;const l=document.getElementById("btn-pause"),s=document.getElementById("btn-unpause"),c=document.getElementById("btn-restart"),h=document.getElementById("btn-restart-header");function p(_,y=!1){r.textContent=_,r.className="feedback "+(y?"error":"success")}const{resetZoom:v}=Rs(Vn,gt,vn,_=>{_&&_.discovered?Ps(o,`${_.name} ✓ Descoberto`):pi(o)});(E=document.getElementById("btn-reset-map"))==null||E.addEventListener("click",()=>v()),i.addEventListener("keydown",_=>{if(_.key==="Enter"){if(Nn)return;Xt();const y=i.value.trim();if(!y){p("Digite o nome de um país.",!0);return}const w=zs(y);if(!w){p("País não encontrado. Tente outro nome.",!0);return}if(vn.has(w.id)){p(`${w.name} já foi descoberto!`,!0);return}vn.add(w.id),p(`Correto! ${w.name} ✓`),i.value="",me(a,u),or(Vn,vn)}}),i.addEventListener("focus",()=>Xt()),l==null||l.addEventListener("click",()=>{Nn||(Nn=!0,Ne(),ks())}),s==null||s.addEventListener("click",()=>{Nn=!1,Gt(),Xt()}),c==null||c.addEventListener("click",()=>{mi(),Gt()}),h==null||h.addEventListener("click",()=>{mi(),Gt()}),me(a,u)}Bs();
