(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function e(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(r){if(r.ep)return;r.ep=!0;const a=e(r);fetch(r.href,a)}})();const cr=["África","América do Norte","América Central e Caribe","América do Sul","Ásia","Europa","Oceania","Antártida"],Tn=[{id:"012",name:"Argélia",continent:"África"},{id:"024",name:"Angola",continent:"África"},{id:"204",name:"Benim",continent:"África"},{id:"072",name:"Botsuana",continent:"África"},{id:"854",name:"Burquina Fasso",continent:"África",alternates:["Burkina Faso"]},{id:"108",name:"Burundi",continent:"África"},{id:"120",name:"Camarões",continent:"África"},{id:"140",name:"República Centro-Africana",continent:"África"},{id:"148",name:"Chade",continent:"África"},{id:"174",name:"Comores",continent:"África"},{id:"178",name:"Congo",continent:"África"},{id:"180",name:"República Democrática do Congo",continent:"África",alternates:["Congo-Kinshasa","RDC"]},{id:"384",name:"Costa do Marfim",continent:"África",alternates:["Côte d'Ivoire"]},{id:"262",name:"Djibuti",continent:"África"},{id:"818",name:"Egito",continent:"África"},{id:"226",name:"Guiné Equatorial",continent:"África"},{id:"232",name:"Eritreia",continent:"África"},{id:"231",name:"Etiópia",continent:"África"},{id:"266",name:"Gabão",continent:"África"},{id:"270",name:"Gâmbia",continent:"África"},{id:"288",name:"Gana",continent:"África"},{id:"324",name:"Guiné",continent:"África"},{id:"624",name:"Guiné-Bissau",continent:"África"},{id:"404",name:"Quénia",continent:"África",alternates:["Quênia"]},{id:"426",name:"Lesoto",continent:"África"},{id:"430",name:"Libéria",continent:"África"},{id:"434",name:"Líbia",continent:"África"},{id:"450",name:"Madagáscar",continent:"África",alternates:["Madagascar"]},{id:"454",name:"Maláui",continent:"África",alternates:["Malawi"]},{id:"466",name:"Mali",continent:"África"},{id:"478",name:"Mauritânia",continent:"África"},{id:"480",name:"Maurícia",continent:"África",alternates:["Maurício"]},{id:"504",name:"Marrocos",continent:"África"},{id:"508",name:"Moçambique",continent:"África"},{id:"516",name:"Namíbia",continent:"África"},{id:"562",name:"Níger",continent:"África"},{id:"566",name:"Nigéria",continent:"África"},{id:"646",name:"Ruanda",continent:"África"},{id:"732",name:"Saara Ocidental",continent:"África"},{id:"678",name:"São Tomé e Príncipe",continent:"África"},{id:"686",name:"Senegal",continent:"África"},{id:"690",name:"Seicheles",continent:"África",alternates:["Seychelles"]},{id:"694",name:"Serra Leoa",continent:"África"},{id:"706",name:"Somália",continent:"África"},{id:"710",name:"África do Sul",continent:"África"},{id:"728",name:"Sudão do Sul",continent:"África"},{id:"729",name:"Sudão",continent:"África"},{id:"748",name:"Essuatíni",continent:"África",alternates:["Suazilândia","eSwatini"]},{id:"834",name:"Tanzânia",continent:"África"},{id:"768",name:"Togo",continent:"África"},{id:"788",name:"Tunísia",continent:"África"},{id:"800",name:"Uganda",continent:"África"},{id:"894",name:"Zâmbia",continent:"África"},{id:"716",name:"Zimbábue",continent:"África",alternates:["Zimbabwe"]},{id:"124",name:"Canadá",continent:"América do Norte"},{id:"484",name:"México",continent:"América do Norte"},{id:"840",name:"Estados Unidos",continent:"América do Norte",alternates:["EUA","Estados Unidos da América"]},{id:"044",name:"Bahamas",continent:"América Central e Caribe"},{id:"052",name:"Barbados",continent:"América Central e Caribe"},{id:"084",name:"Belize",continent:"América Central e Caribe"},{id:"192",name:"Cuba",continent:"América Central e Caribe"},{id:"188",name:"Costa Rica",continent:"América Central e Caribe"},{id:"212",name:"Dominica",continent:"América Central e Caribe"},{id:"214",name:"República Dominicana",continent:"América Central e Caribe",alternates:["Dominicana"]},{id:"222",name:"El Salvador",continent:"América Central e Caribe"},{id:"308",name:"Granada",continent:"América Central e Caribe"},{id:"332",name:"Haiti",continent:"América Central e Caribe"},{id:"340",name:"Honduras",continent:"América Central e Caribe"},{id:"388",name:"Jamaica",continent:"América Central e Caribe"},{id:"558",name:"Nicarágua",continent:"América Central e Caribe"},{id:"591",name:"Panamá",continent:"América Central e Caribe"},{id:"659",name:"Santa Lúcia",continent:"América Central e Caribe",alternates:["São Lúcia"]},{id:"662",name:"São Vicente e Granadinas",continent:"América Central e Caribe"},{id:"780",name:"Trindade e Tobago",continent:"América Central e Caribe",alternates:["Trinidad e Tobago"]},{id:"320",name:"Guatemala",continent:"América Central e Caribe"},{id:"032",name:"Argentina",continent:"América do Sul"},{id:"068",name:"Bolívia",continent:"América do Sul"},{id:"076",name:"Brasil",continent:"América do Sul"},{id:"152",name:"Chile",continent:"América do Sul"},{id:"170",name:"Colômbia",continent:"América do Sul"},{id:"218",name:"Equador",continent:"América do Sul"},{id:"328",name:"Guiana",continent:"América do Sul"},{id:"600",name:"Paraguai",continent:"América do Sul"},{id:"604",name:"Peru",continent:"América do Sul"},{id:"740",name:"Suriname",continent:"América do Sul"},{id:"858",name:"Uruguai",continent:"América do Sul"},{id:"862",name:"Venezuela",continent:"América do Sul"},{id:"004",name:"Afeganistão",continent:"Ásia"},{id:"051",name:"Arménia",continent:"Ásia",alternates:["Armênia"]},{id:"031",name:"Azerbaijão",continent:"Ásia"},{id:"050",name:"Bangladeche",continent:"Ásia",alternates:["Bangladesh"]},{id:"064",name:"Butão",continent:"Ásia"},{id:"096",name:"Brunei",continent:"Ásia"},{id:"156",name:"China",continent:"Ásia"},{id:"408",name:"Coreia do Norte",continent:"Ásia",alternates:["Coreia Norte"]},{id:"410",name:"Coreia do Sul",continent:"Ásia",alternates:["Coreia Sul"]},{id:"268",name:"Geórgia",continent:"Ásia"},{id:"356",name:"Índia",continent:"Ásia"},{id:"360",name:"Indonésia",continent:"Ásia"},{id:"364",name:"Irão",continent:"Ásia",alternates:["Irã"]},{id:"368",name:"Iraque",continent:"Ásia"},{id:"376",name:"Israel",continent:"Ásia"},{id:"392",name:"Japão",continent:"Ásia"},{id:"400",name:"Jordânia",continent:"Ásia"},{id:"398",name:"Cazaquistão",continent:"Ásia"},{id:"417",name:"Quirguistão",continent:"Ásia",alternates:["Quirguizistão"]},{id:"418",name:"Laos",continent:"Ásia"},{id:"422",name:"Líbano",continent:"Ásia"},{id:"458",name:"Malásia",continent:"Ásia"},{id:"462",name:"Maldivas",continent:"Ásia"},{id:"104",name:"Mianmar",continent:"Ásia",alternates:["Birmânia","Myanmar"]},{id:"496",name:"Mongólia",continent:"Ásia"},{id:"524",name:"Nepal",continent:"Ásia"},{id:"512",name:"Omã",continent:"Ásia"},{id:"586",name:"Paquistão",continent:"Ásia"},{id:"275",name:"Palestina",continent:"Ásia",alternates:["Estado da Palestina"]},{id:"608",name:"Filipinas",continent:"Ásia"},{id:"634",name:"Catar",continent:"Ásia",alternates:["Qatar"]},{id:"682",name:"Arábia Saudita",continent:"Ásia"},{id:"702",name:"Singapura",continent:"Ásia"},{id:"144",name:"Sri Lanca",continent:"Ásia",alternates:["Sri Lanka"]},{id:"760",name:"Síria",continent:"Ásia"},{id:"762",name:"Tajiquistão",continent:"Ásia",alternates:["Tajikistan"]},{id:"158",name:"Taiwan",continent:"Ásia"},{id:"764",name:"Tailândia",continent:"Ásia"},{id:"626",name:"Timor-Leste",continent:"Ásia",alternates:["Timor Leste"]},{id:"795",name:"Turquemenistão",continent:"Ásia",alternates:["Turcomenistão"]},{id:"792",name:"Turquia",continent:"Ásia"},{id:"784",name:"Emirados Árabes Unidos",continent:"Ásia",alternates:["EAU"]},{id:"860",name:"Usbequistão",continent:"Ásia",alternates:["Uzbequistão"]},{id:"704",name:"Vietname",continent:"Ásia",alternates:["Vietnã","Vietnam"]},{id:"887",name:"Iémen",continent:"Ásia",alternates:["Iêmen","Yemen"]},{id:"116",name:"Camboja",continent:"Ásia"},{id:"008",name:"Albânia",continent:"Europa"},{id:"040",name:"Áustria",continent:"Europa"},{id:"112",name:"Bielorrússia",continent:"Europa",alternates:["Belarus"]},{id:"056",name:"Bélgica",continent:"Europa"},{id:"070",name:"Bósnia e Herzegovina",continent:"Europa"},{id:"100",name:"Bulgária",continent:"Europa"},{id:"191",name:"Croácia",continent:"Europa"},{id:"203",name:"Chéquia",continent:"Europa",alternates:["República Checa","Tchéquia"]},{id:"208",name:"Dinamarca",continent:"Europa"},{id:"233",name:"Estónia",continent:"Europa",alternates:["Estônia"]},{id:"246",name:"Finlândia",continent:"Europa"},{id:"250",name:"França",continent:"Europa"},{id:"276",name:"Alemanha",continent:"Europa"},{id:"300",name:"Grécia",continent:"Europa"},{id:"348",name:"Hungria",continent:"Europa"},{id:"352",name:"Islândia",continent:"Europa"},{id:"372",name:"Irlanda",continent:"Europa"},{id:"380",name:"Itália",continent:"Europa"},{id:"428",name:"Letónia",continent:"Europa",alternates:["Letônia"]},{id:"440",name:"Lituânia",continent:"Europa"},{id:"442",name:"Luxemburgo",continent:"Europa"},{id:"807",name:"Macedónia do Norte",continent:"Europa",alternates:["Macedônia do Norte","Macedônia"]},{id:"498",name:"Moldávia",continent:"Europa",alternates:["Moldova"]},{id:"499",name:"Montenegro",continent:"Europa"},{id:"528",name:"Países Baixos",continent:"Europa",alternates:["Holanda"]},{id:"578",name:"Noruega",continent:"Europa"},{id:"616",name:"Polónia",continent:"Europa",alternates:["Polônia"]},{id:"620",name:"Portugal",continent:"Europa"},{id:"642",name:"Roménia",continent:"Europa",alternates:["Romênia"]},{id:"643",name:"Rússia",continent:"Europa"},{id:"688",name:"Sérvia",continent:"Europa"},{id:"703",name:"Eslováquia",continent:"Europa"},{id:"705",name:"Eslovénia",continent:"Europa",alternates:["Eslovênia"]},{id:"724",name:"Espanha",continent:"Europa"},{id:"752",name:"Suécia",continent:"Europa"},{id:"756",name:"Suíça",continent:"Europa"},{id:"804",name:"Ucrânia",continent:"Europa"},{id:"826",name:"Reino Unido",continent:"Europa",alternates:["Reino Unido da Grã-Bretanha e Irlanda do Norte"]},{id:"336",name:"Vaticano",continent:"Europa",alternates:["Santa Sé","Cidade do Vaticano"]},{id:"352",name:"Islândia",continent:"Europa"},{id:"036",name:"Austrália",continent:"Oceania"},{id:"554",name:"Nova Zelândia",continent:"Oceania"},{id:"242",name:"Fiji",continent:"Oceania"},{id:"598",name:"Papua-Nova Guiné",continent:"Oceania",alternates:["Papua Nova Guiné"]},{id:"548",name:"Vanuatu",continent:"Oceania"},{id:"090",name:"Ilhas Salomão",continent:"Oceania"},{id:"583",name:"Micronésia",continent:"Oceania",alternates:["Estados Federados da Micronésia"]},{id:"584",name:"Ilhas Marshall",continent:"Oceania"},{id:"585",name:"Palau",continent:"Oceania"},{id:"520",name:"Nauru",continent:"Oceania"},{id:"776",name:"Tonga",continent:"Oceania"},{id:"798",name:"Tuvalu",continent:"Oceania"},{id:"296",name:"Kiribati",continent:"Oceania"},{id:"882",name:"Samoa",continent:"Oceania",alternates:["Samoa Ocidental"]}];class xn{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const e=this._partials;let i=0;for(let r=0;r<this._n&&r<32;r++){const a=e[r],o=t+a,u=Math.abs(t)<Math.abs(a)?t-(o-a):a-(o-t);u&&(e[i++]=u),t=o}return e[i]=t,this._n=i+1,this}valueOf(){const t=this._partials;let e=this._n,i,r,a,o=0;if(e>0){for(o=t[--e];e>0&&(i=o,r=t[--e],o=i+r,a=r-(o-i),!a););e>0&&(a<0&&t[e-1]<0||a>0&&t[e-1]>0)&&(r=a*2,i=o+r,r==i-o&&(o=i))}return o}}function*lr(n){for(const t of n)yield*t}function gi(n){return Array.from(lr(n))}var O=1e-6,z=Math.PI,Z=z/2,$e=z/4,W=z*2,Q=180/z,V=z/180,F=Math.abs,vi=Math.atan,Zn=Math.atan2,H=Math.cos,fr=Math.exp,hr=Math.log,X=Math.sin,dr=Math.sign||function(n){return n>0?1:n<0?-1:0},bn=Math.sqrt,pr=Math.tan;function mr(n){return n>1?0:n<-1?z:Math.acos(n)}function Kn(n){return n>1?Z:n<-1?-Z:Math.asin(n)}function tn(){}function vt(n,t){n&&ke.hasOwnProperty(n.type)&&ke[n.type](n,t)}var Ie={Feature:function(n,t){vt(n.geometry,t)},FeatureCollection:function(n,t){for(var e=n.features,i=-1,r=e.length;++i<r;)vt(e[i].geometry,t)}},ke={Sphere:function(n,t){t.sphere()},Point:function(n,t){n=n.coordinates,t.point(n[0],n[1],n[2])},MultiPoint:function(n,t){for(var e=n.coordinates,i=-1,r=e.length;++i<r;)n=e[i],t.point(n[0],n[1],n[2])},LineString:function(n,t){Yt(n.coordinates,t,0)},MultiLineString:function(n,t){for(var e=n.coordinates,i=-1,r=e.length;++i<r;)Yt(e[i],t,0)},Polygon:function(n,t){Le(n.coordinates,t)},MultiPolygon:function(n,t){for(var e=n.coordinates,i=-1,r=e.length;++i<r;)Le(e[i],t)},GeometryCollection:function(n,t){for(var e=n.geometries,i=-1,r=e.length;++i<r;)vt(e[i],t)}};function Yt(n,t,e){var i=-1,r=n.length-e,a;for(t.lineStart();++i<r;)a=n[i],t.point(a[0],a[1],a[2]);t.lineEnd()}function Le(n,t){var e=-1,i=n.length;for(t.polygonStart();++e<i;)Yt(n[e],t,1);t.polygonEnd()}function Cn(n,t){n&&Ie.hasOwnProperty(n.type)?Ie[n.type](n,t):vt(n,t)}function Ut(n){return[Zn(n[1],n[0]),Kn(n[2])]}function kn(n){var t=n[0],e=n[1],i=H(e);return[i*H(t),i*X(t),X(e)]}function rt(n,t){return n[0]*t[0]+n[1]*t[1]+n[2]*t[2]}function yt(n,t){return[n[1]*t[2]-n[2]*t[1],n[2]*t[0]-n[0]*t[2],n[0]*t[1]-n[1]*t[0]]}function zt(n,t){n[0]+=t[0],n[1]+=t[1],n[2]+=t[2]}function at(n,t){return[n[0]*t,n[1]*t,n[2]*t]}function Zt(n){var t=bn(n[0]*n[0]+n[1]*n[1]+n[2]*n[2]);n[0]/=t,n[1]/=t,n[2]/=t}function Kt(n,t){function e(i,r){return i=n(i,r),t(i[0],i[1])}return n.invert&&t.invert&&(e.invert=function(i,r){return i=t.invert(i,r),i&&n.invert(i[0],i[1])}),e}function Qt(n,t){return F(n)>z&&(n-=Math.round(n/W)*W),[n,t]}Qt.invert=Qt;function yi(n,t,e){return(n%=W)?t||e?Kt(ze(n),Pe(t,e)):ze(n):t||e?Pe(t,e):Qt}function Re(n){return function(t,e){return t+=n,F(t)>z&&(t-=Math.round(t/W)*W),[t,e]}}function ze(n){var t=Re(n);return t.invert=Re(-n),t}function Pe(n,t){var e=H(n),i=X(n),r=H(t),a=X(t);function o(u,f){var c=H(f),s=H(u)*c,l=X(u)*c,h=X(f),p=h*e+s*i;return[Zn(l*r-p*a,s*e-h*i),Kn(p*r+l*a)]}return o.invert=function(u,f){var c=H(f),s=H(u)*c,l=X(u)*c,h=X(f),p=h*r-l*a;return[Zn(l*r+h*a,s*e+p*i),Kn(p*e-s*i)]},o}function gr(n){n=yi(n[0]*V,n[1]*V,n.length>2?n[2]*V:0);function t(e){return e=n(e[0]*V,e[1]*V),e[0]*=Q,e[1]*=Q,e}return t.invert=function(e){return e=n.invert(e[0]*V,e[1]*V),e[0]*=Q,e[1]*=Q,e},t}function vr(n,t,e,i,r,a){if(e){var o=H(t),u=X(t),f=i*e;r==null?(r=t+i*W,a=t-f/2):(r=Be(o,r),a=Be(o,a),(i>0?r<a:r>a)&&(r+=i*W));for(var c,s=r;i>0?s>a:s<a;s-=f)c=Ut([o,-u*H(s),-u*X(s)]),n.point(c[0],c[1])}}function Be(n,t){t=kn(t),t[0]-=n,Zt(t);var e=mr(-t[1]);return((-t[2]<0?-e:e)+W-O)%W}function _i(){var n=[],t;return{point:function(e,i,r){t.push([e,i,r])},lineStart:function(){n.push(t=[])},lineEnd:tn,rejoin:function(){n.length>1&&n.push(n.pop().concat(n.shift()))},result:function(){var e=n;return n=[],t=null,e}}}function ht(n,t){return F(n[0]-t[0])<O&&F(n[1]-t[1])<O}function ot(n,t,e,i){this.x=n,this.z=t,this.o=e,this.e=i,this.v=!1,this.n=this.p=null}function wi(n,t,e,i,r){var a=[],o=[],u,f;if(n.forEach(function(v){if(!((w=v.length-1)<=0)){var w,_=v[0],y=v[w],S;if(ht(_,y)){if(!_[2]&&!y[2]){for(r.lineStart(),u=0;u<w;++u)r.point((_=v[u])[0],_[1]);r.lineEnd();return}y[0]+=2*O}a.push(S=new ot(_,v,null,!0)),o.push(S.o=new ot(_,null,S,!1)),a.push(S=new ot(y,v,null,!1)),o.push(S.o=new ot(y,null,S,!0))}}),!!a.length){for(o.sort(t),Oe(a),Oe(o),u=0,f=o.length;u<f;++u)o[u].e=e=!e;for(var c=a[0],s,l;;){for(var h=c,p=!0;h.v;)if((h=h.n)===c)return;s=h.z,r.lineStart();do{if(h.v=h.o.v=!0,h.e){if(p)for(u=0,f=s.length;u<f;++u)r.point((l=s[u])[0],l[1]);else i(h.x,h.n.x,1,r);h=h.n}else{if(p)for(s=h.p.z,u=s.length-1;u>=0;--u)r.point((l=s[u])[0],l[1]);else i(h.x,h.p.x,-1,r);h=h.p}h=h.o,s=h.z,p=!p}while(!h.v);r.lineEnd()}}}function Oe(n){if(t=n.length){for(var t,e=0,i=n[0],r;++e<t;)i.n=r=n[e],r.p=i,i=r;i.n=r=n[0],r.p=i}}function Pt(n){return F(n[0])<=z?n[0]:dr(n[0])*((F(n[0])+z)%W-z)}function yr(n,t){var e=Pt(t),i=t[1],r=X(i),a=[X(e),-H(e),0],o=0,u=0,f=new xn;r===1?i=Z+O:r===-1&&(i=-Z-O);for(var c=0,s=n.length;c<s;++c)if(h=(l=n[c]).length)for(var l,h,p=l[h-1],v=Pt(p),w=p[1]/2+$e,_=X(w),y=H(w),S=0;S<h;++S,v=x,_=b,y=T,p=C){var C=l[S],x=Pt(C),M=C[1]/2+$e,b=X(M),T=H(M),k=x-v,L=k>=0?1:-1,P=L*k,$=P>z,U=_*b;if(f.add(Zn(U*L*X(P),y*T+U*H(P))),o+=$?k+L*W:k,$^v>=e^x>=e){var D=yt(kn(p),kn(C));Zt(D);var d=yt(a,D);Zt(d);var m=($^k>=0?-1:1)*Kn(d[2]);(i>m||i===m&&(D[0]||D[1]))&&(u+=$^k>=0?1:-1)}}return(o<-O||o<O&&f<-1e-12)^u&1}function xi(n,t,e,i){return function(r){var a=t(r),o=_i(),u=t(o),f=!1,c,s,l,h={point:p,lineStart:w,lineEnd:_,polygonStart:function(){h.point=y,h.lineStart=S,h.lineEnd=C,s=[],c=[]},polygonEnd:function(){h.point=p,h.lineStart=w,h.lineEnd=_,s=gi(s);var x=yr(c,i);s.length?(f||(r.polygonStart(),f=!0),wi(s,wr,x,e,r)):x&&(f||(r.polygonStart(),f=!0),r.lineStart(),e(null,null,1,r),r.lineEnd()),f&&(r.polygonEnd(),f=!1),s=c=null},sphere:function(){r.polygonStart(),r.lineStart(),e(null,null,1,r),r.lineEnd(),r.polygonEnd()}};function p(x,M){n(x,M)&&r.point(x,M)}function v(x,M){a.point(x,M)}function w(){h.point=v,a.lineStart()}function _(){h.point=p,a.lineEnd()}function y(x,M){l.push([x,M]),u.point(x,M)}function S(){u.lineStart(),l=[]}function C(){y(l[0][0],l[0][1]),u.lineEnd();var x=u.clean(),M=o.result(),b,T=M.length,k,L,P;if(l.pop(),c.push(l),l=null,!!T){if(x&1){if(L=M[0],(k=L.length-1)>0){for(f||(r.polygonStart(),f=!0),r.lineStart(),b=0;b<k;++b)r.point((P=L[b])[0],P[1]);r.lineEnd()}return}T>1&&x&2&&M.push(M.pop().concat(M.shift())),s.push(M.filter(_r))}}return h}}function _r(n){return n.length>1}function wr(n,t){return((n=n.x)[0]<0?n[1]-Z-O:Z-n[1])-((t=t.x)[0]<0?t[1]-Z-O:Z-t[1])}const De=xi(function(){return!0},xr,Sr,[-z,-Z]);function xr(n){var t=NaN,e=NaN,i=NaN,r;return{lineStart:function(){n.lineStart(),r=1},point:function(a,o){var u=a>0?z:-z,f=F(a-t);F(f-z)<O?(n.point(t,e=(e+o)/2>0?Z:-Z),n.point(i,e),n.lineEnd(),n.lineStart(),n.point(u,e),n.point(a,e),r=0):i!==u&&f>=z&&(F(t-i)<O&&(t-=i*O),F(a-u)<O&&(a-=u*O),e=Er(t,e,a,o),n.point(i,e),n.lineEnd(),n.lineStart(),n.point(u,e),r=0),n.point(t=a,e=o),i=u},lineEnd:function(){n.lineEnd(),t=e=NaN},clean:function(){return 2-r}}}function Er(n,t,e,i){var r,a,o=X(n-e);return F(o)>O?vi((X(t)*(a=H(i))*X(e)-X(i)*(r=H(t))*X(n))/(r*a*o)):(t+i)/2}function Sr(n,t,e,i){var r;if(n==null)r=e*Z,i.point(-z,r),i.point(0,r),i.point(z,r),i.point(z,0),i.point(z,-r),i.point(0,-r),i.point(-z,-r),i.point(-z,0),i.point(-z,r);else if(F(n[0]-t[0])>O){var a=n[0]<t[0]?z:-z;r=e*a/2,i.point(-a,r),i.point(0,r),i.point(a,r)}else i.point(t[0],t[1])}function br(n){var t=H(n),e=2*V,i=t>0,r=F(t)>O;function a(s,l,h,p){vr(p,n,e,h,s,l)}function o(s,l){return H(s)*H(l)>t}function u(s){var l,h,p,v,w;return{lineStart:function(){v=p=!1,w=1},point:function(_,y){var S=[_,y],C,x=o(_,y),M=i?x?0:c(_,y):x?c(_+(_<0?z:-z),y):0;if(!l&&(v=p=x)&&s.lineStart(),x!==p&&(C=f(l,S),(!C||ht(l,C)||ht(S,C))&&(S[2]=1)),x!==p)w=0,x?(s.lineStart(),C=f(S,l),s.point(C[0],C[1])):(C=f(l,S),s.point(C[0],C[1],2),s.lineEnd()),l=C;else if(r&&l&&i^x){var b;!(M&h)&&(b=f(S,l,!0))&&(w=0,i?(s.lineStart(),s.point(b[0][0],b[0][1]),s.point(b[1][0],b[1][1]),s.lineEnd()):(s.point(b[1][0],b[1][1]),s.lineEnd(),s.lineStart(),s.point(b[0][0],b[0][1],3)))}x&&(!l||!ht(l,S))&&s.point(S[0],S[1]),l=S,p=x,h=M},lineEnd:function(){p&&s.lineEnd(),l=null},clean:function(){return w|(v&&p)<<1}}}function f(s,l,h){var p=kn(s),v=kn(l),w=[1,0,0],_=yt(p,v),y=rt(_,_),S=_[0],C=y-S*S;if(!C)return!h&&s;var x=t*y/C,M=-t*S/C,b=yt(w,_),T=at(w,x),k=at(_,M);zt(T,k);var L=b,P=rt(T,L),$=rt(L,L),U=P*P-$*(rt(T,T)-1);if(!(U<0)){var D=bn(U),d=at(L,(-P-D)/$);if(zt(d,T),d=Ut(d),!h)return d;var m=s[0],g=l[0],E=s[1],A=l[1],N;g<m&&(N=m,m=g,g=N);var I=g-m,R=F(I-z)<O,B=R||I<O;if(!R&&A<E&&(N=E,E=A,A=N),B?R?E+A>0^d[1]<(F(d[0]-m)<O?E:A):E<=d[1]&&d[1]<=A:I>z^(m<=d[0]&&d[0]<=g)){var G=at(L,(-P+D)/$);return zt(G,T),[d,Ut(G)]}}}function c(s,l){var h=i?n:z-n,p=0;return s<-h?p|=1:s>h&&(p|=2),l<-h?p|=4:l>h&&(p|=8),p}return xi(o,u,a,i?[0,-n]:[-z,n-z])}function Cr(n,t,e,i,r,a){var o=n[0],u=n[1],f=t[0],c=t[1],s=0,l=1,h=f-o,p=c-u,v;if(v=e-o,!(!h&&v>0)){if(v/=h,h<0){if(v<s)return;v<l&&(l=v)}else if(h>0){if(v>l)return;v>s&&(s=v)}if(v=r-o,!(!h&&v<0)){if(v/=h,h<0){if(v>l)return;v>s&&(s=v)}else if(h>0){if(v<s)return;v<l&&(l=v)}if(v=i-u,!(!p&&v>0)){if(v/=p,p<0){if(v<s)return;v<l&&(l=v)}else if(p>0){if(v>l)return;v>s&&(s=v)}if(v=a-u,!(!p&&v<0)){if(v/=p,p<0){if(v>l)return;v>s&&(s=v)}else if(p>0){if(v<s)return;v<l&&(l=v)}return s>0&&(n[0]=o+s*h,n[1]=u+s*p),l<1&&(t[0]=o+l*h,t[1]=u+l*p),!0}}}}}var Dn=1e9,ut=-Dn;function Mr(n,t,e,i){function r(c,s){return n<=c&&c<=e&&t<=s&&s<=i}function a(c,s,l,h){var p=0,v=0;if(c==null||(p=o(c,l))!==(v=o(s,l))||f(c,s)<0^l>0)do h.point(p===0||p===3?n:e,p>1?i:t);while((p=(p+l+4)%4)!==v);else h.point(s[0],s[1])}function o(c,s){return F(c[0]-n)<O?s>0?0:3:F(c[0]-e)<O?s>0?2:1:F(c[1]-t)<O?s>0?1:0:s>0?3:2}function u(c,s){return f(c.x,s.x)}function f(c,s){var l=o(c,1),h=o(s,1);return l!==h?l-h:l===0?s[1]-c[1]:l===1?c[0]-s[0]:l===2?c[1]-s[1]:s[0]-c[0]}return function(c){var s=c,l=_i(),h,p,v,w,_,y,S,C,x,M,b,T={point:k,lineStart:U,lineEnd:D,polygonStart:P,polygonEnd:$};function k(m,g){r(m,g)&&s.point(m,g)}function L(){for(var m=0,g=0,E=p.length;g<E;++g)for(var A=p[g],N=1,I=A.length,R=A[0],B,G,q=R[0],Y=R[1];N<I;++N)B=q,G=Y,R=A[N],q=R[0],Y=R[1],G<=i?Y>i&&(q-B)*(i-G)>(Y-G)*(n-B)&&++m:Y<=i&&(q-B)*(i-G)<(Y-G)*(n-B)&&--m;return m}function P(){s=l,h=[],p=[],b=!0}function $(){var m=L(),g=b&&m,E=(h=gi(h)).length;(g||E)&&(c.polygonStart(),g&&(c.lineStart(),a(null,null,1,c),c.lineEnd()),E&&wi(h,u,m,a,c),c.polygonEnd()),s=c,h=p=v=null}function U(){T.point=d,p&&p.push(v=[]),M=!0,x=!1,S=C=NaN}function D(){h&&(d(w,_),y&&x&&l.rejoin(),h.push(l.result())),T.point=k,x&&s.lineEnd()}function d(m,g){var E=r(m,g);if(p&&v.push([m,g]),M)w=m,_=g,y=E,M=!1,E&&(s.lineStart(),s.point(m,g));else if(E&&x)s.point(m,g);else{var A=[S=Math.max(ut,Math.min(Dn,S)),C=Math.max(ut,Math.min(Dn,C))],N=[m=Math.max(ut,Math.min(Dn,m)),g=Math.max(ut,Math.min(Dn,g))];Cr(A,N,n,t,e,i)?(x||(s.lineStart(),s.point(A[0],A[1])),s.point(N[0],N[1]),E||s.lineEnd(),b=!1):E&&(s.lineStart(),s.point(m,g),b=!1)}S=m,C=g,x=E}return T}}const Jt=n=>n;var Bt=new xn,Wt=new xn,Ei,Si,jt,ne,pn={point:tn,lineStart:tn,lineEnd:tn,polygonStart:function(){pn.lineStart=Ar,pn.lineEnd=Tr},polygonEnd:function(){pn.lineStart=pn.lineEnd=pn.point=tn,Bt.add(F(Wt)),Wt=new xn},result:function(){var n=Bt/2;return Bt=new xn,n}};function Ar(){pn.point=Nr}function Nr(n,t){pn.point=bi,Ei=jt=n,Si=ne=t}function bi(n,t){Wt.add(ne*n-jt*t),jt=n,ne=t}function Tr(){bi(Ei,Si)}var Ln=1/0,_t=Ln,Qn=-Ln,wt=Qn,xt={point:$r,lineStart:tn,lineEnd:tn,polygonStart:tn,polygonEnd:tn,result:function(){var n=[[Ln,_t],[Qn,wt]];return Qn=wt=-(_t=Ln=1/0),n}};function $r(n,t){n<Ln&&(Ln=n),n>Qn&&(Qn=n),t<_t&&(_t=t),t>wt&&(wt=t)}var te=0,ee=0,Fn=0,Et=0,St=0,Mn=0,ie=0,re=0,qn=0,Ci,Mi,on,un,nn={point:En,lineStart:Fe,lineEnd:qe,polygonStart:function(){nn.lineStart=Lr,nn.lineEnd=Rr},polygonEnd:function(){nn.point=En,nn.lineStart=Fe,nn.lineEnd=qe},result:function(){var n=qn?[ie/qn,re/qn]:Mn?[Et/Mn,St/Mn]:Fn?[te/Fn,ee/Fn]:[NaN,NaN];return te=ee=Fn=Et=St=Mn=ie=re=qn=0,n}};function En(n,t){te+=n,ee+=t,++Fn}function Fe(){nn.point=Ir}function Ir(n,t){nn.point=kr,En(on=n,un=t)}function kr(n,t){var e=n-on,i=t-un,r=bn(e*e+i*i);Et+=r*(on+n)/2,St+=r*(un+t)/2,Mn+=r,En(on=n,un=t)}function qe(){nn.point=En}function Lr(){nn.point=zr}function Rr(){Ai(Ci,Mi)}function zr(n,t){nn.point=Ai,En(Ci=on=n,Mi=un=t)}function Ai(n,t){var e=n-on,i=t-un,r=bn(e*e+i*i);Et+=r*(on+n)/2,St+=r*(un+t)/2,Mn+=r,r=un*n-on*t,ie+=r*(on+n),re+=r*(un+t),qn+=r*3,En(on=n,un=t)}function Ni(n){this._context=n}Ni.prototype={_radius:4.5,pointRadius:function(n){return this._radius=n,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(n,t){switch(this._point){case 0:{this._context.moveTo(n,t),this._point=1;break}case 1:{this._context.lineTo(n,t);break}default:{this._context.moveTo(n+this._radius,t),this._context.arc(n,t,this._radius,0,W);break}}},result:tn};var ae=new xn,Ot,Ti,$i,Hn,Xn,Jn={point:tn,lineStart:function(){Jn.point=Pr},lineEnd:function(){Ot&&Ii(Ti,$i),Jn.point=tn},polygonStart:function(){Ot=!0},polygonEnd:function(){Ot=null},result:function(){var n=+ae;return ae=new xn,n}};function Pr(n,t){Jn.point=Ii,Ti=Hn=n,$i=Xn=t}function Ii(n,t){Hn-=n,Xn-=t,ae.add(bn(Hn*Hn+Xn*Xn)),Hn=n,Xn=t}let He,bt,Xe,Ge;class Ve{constructor(t){this._append=t==null?ki:Br(t),this._radius=4.5,this._=""}pointRadius(t){return this._radius=+t,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(t,e){switch(this._point){case 0:{this._append`M${t},${e}`,this._point=1;break}case 1:{this._append`L${t},${e}`;break}default:{if(this._append`M${t},${e}`,this._radius!==Xe||this._append!==bt){const i=this._radius,r=this._;this._="",this._append`m0,${i}a${i},${i} 0 1,1 0,${-2*i}a${i},${i} 0 1,1 0,${2*i}z`,Xe=i,bt=this._append,Ge=this._,this._=r}this._+=Ge;break}}}result(){const t=this._;return this._="",t.length?t:null}}function ki(n){let t=1;this._+=n[0];for(const e=n.length;t<e;++t)this._+=arguments[t]+n[t]}function Br(n){const t=Math.floor(n);if(!(t>=0))throw new RangeError(`invalid digits: ${n}`);if(t>15)return ki;if(t!==He){const e=10**t;He=t,bt=function(r){let a=1;this._+=r[0];for(const o=r.length;a<o;++a)this._+=Math.round(arguments[a]*e)/e+r[a]}}return bt}function Or(n,t){let e=3,i=4.5,r,a;function o(u){return u&&(typeof i=="function"&&a.pointRadius(+i.apply(this,arguments)),Cn(u,r(a))),a.result()}return o.area=function(u){return Cn(u,r(pn)),pn.result()},o.measure=function(u){return Cn(u,r(Jn)),Jn.result()},o.bounds=function(u){return Cn(u,r(xt)),xt.result()},o.centroid=function(u){return Cn(u,r(nn)),nn.result()},o.projection=function(u){return arguments.length?(r=u==null?(n=null,Jt):(n=u).stream,o):n},o.context=function(u){return arguments.length?(a=u==null?(t=null,new Ve(e)):new Ni(t=u),typeof i!="function"&&a.pointRadius(i),o):t},o.pointRadius=function(u){return arguments.length?(i=typeof u=="function"?u:(a.pointRadius(+u),+u),o):i},o.digits=function(u){if(!arguments.length)return e;if(u==null)e=null;else{const f=Math.floor(u);if(!(f>=0))throw new RangeError(`invalid digits: ${u}`);e=f}return t===null&&(a=new Ve(e)),o},o.projection(n).digits(e).context(t)}function ve(n){return function(t){var e=new oe;for(var i in n)e[i]=n[i];return e.stream=t,e}}function oe(){}oe.prototype={constructor:oe,point:function(n,t){this.stream.point(n,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function ye(n,t,e){var i=n.clipExtent&&n.clipExtent();return n.scale(150).translate([0,0]),i!=null&&n.clipExtent(null),Cn(e,n.stream(xt)),t(xt.result()),i!=null&&n.clipExtent(i),n}function Li(n,t,e){return ye(n,function(i){var r=t[1][0]-t[0][0],a=t[1][1]-t[0][1],o=Math.min(r/(i[1][0]-i[0][0]),a/(i[1][1]-i[0][1])),u=+t[0][0]+(r-o*(i[1][0]+i[0][0]))/2,f=+t[0][1]+(a-o*(i[1][1]+i[0][1]))/2;n.scale(150*o).translate([u,f])},e)}function Dr(n,t,e){return Li(n,[[0,0],t],e)}function Fr(n,t,e){return ye(n,function(i){var r=+t,a=r/(i[1][0]-i[0][0]),o=(r-a*(i[1][0]+i[0][0]))/2,u=-a*i[0][1];n.scale(150*a).translate([o,u])},e)}function qr(n,t,e){return ye(n,function(i){var r=+t,a=r/(i[1][1]-i[0][1]),o=-a*i[0][0],u=(r-a*(i[1][1]+i[0][1]))/2;n.scale(150*a).translate([o,u])},e)}var Ye=16,Hr=H(30*V);function Ue(n,t){return+t?Gr(n,t):Xr(n)}function Xr(n){return ve({point:function(t,e){t=n(t,e),this.stream.point(t[0],t[1])}})}function Gr(n,t){function e(i,r,a,o,u,f,c,s,l,h,p,v,w,_){var y=c-i,S=s-r,C=y*y+S*S;if(C>4*t&&w--){var x=o+h,M=u+p,b=f+v,T=bn(x*x+M*M+b*b),k=Kn(b/=T),L=F(F(b)-1)<O||F(a-l)<O?(a+l)/2:Zn(M,x),P=n(L,k),$=P[0],U=P[1],D=$-i,d=U-r,m=S*D-y*d;(m*m/C>t||F((y*D+S*d)/C-.5)>.3||o*h+u*p+f*v<Hr)&&(e(i,r,a,o,u,f,$,U,L,x/=T,M/=T,b,w,_),_.point($,U),e($,U,L,x,M,b,c,s,l,h,p,v,w,_))}}return function(i){var r,a,o,u,f,c,s,l,h,p,v,w,_={point:y,lineStart:S,lineEnd:x,polygonStart:function(){i.polygonStart(),_.lineStart=M},polygonEnd:function(){i.polygonEnd(),_.lineStart=S}};function y(k,L){k=n(k,L),i.point(k[0],k[1])}function S(){l=NaN,_.point=C,i.lineStart()}function C(k,L){var P=kn([k,L]),$=n(k,L);e(l,h,s,p,v,w,l=$[0],h=$[1],s=k,p=P[0],v=P[1],w=P[2],Ye,i),i.point(l,h)}function x(){_.point=y,i.lineEnd()}function M(){S(),_.point=b,_.lineEnd=T}function b(k,L){C(r=k,L),a=l,o=h,u=p,f=v,c=w,_.point=C}function T(){e(l,h,s,p,v,w,a,o,r,u,f,c,Ye,i),_.lineEnd=x,x()}return _}}var Vr=ve({point:function(n,t){this.stream.point(n*V,t*V)}});function Yr(n){return ve({point:function(t,e){var i=n(t,e);return this.stream.point(i[0],i[1])}})}function Ur(n,t,e,i,r){function a(o,u){return o*=i,u*=r,[t+n*o,e-n*u]}return a.invert=function(o,u){return[(o-t)/n*i,(e-u)/n*r]},a}function Ze(n,t,e,i,r,a){if(!a)return Ur(n,t,e,i,r);var o=H(a),u=X(a),f=o*n,c=u*n,s=o/n,l=u/n,h=(u*e-o*t)/n,p=(u*t+o*e)/n;function v(w,_){return w*=i,_*=r,[f*w-c*_+t,e-c*w-f*_]}return v.invert=function(w,_){return[i*(s*w-l*_+h),r*(p-l*w-s*_)]},v}function Zr(n){return Kr(function(){return n})()}function Kr(n){var t,e=150,i=480,r=250,a=0,o=0,u=0,f=0,c=0,s,l=0,h=1,p=1,v=null,w=De,_=null,y,S,C,x=Jt,M=.5,b,T,k,L,P;function $(m){return k(m[0]*V,m[1]*V)}function U(m){return m=k.invert(m[0],m[1]),m&&[m[0]*Q,m[1]*Q]}$.stream=function(m){return L&&P===m?L:L=Vr(Yr(s)(w(b(x(P=m)))))},$.preclip=function(m){return arguments.length?(w=m,v=void 0,d()):w},$.postclip=function(m){return arguments.length?(x=m,_=y=S=C=null,d()):x},$.clipAngle=function(m){return arguments.length?(w=+m?br(v=m*V):(v=null,De),d()):v*Q},$.clipExtent=function(m){return arguments.length?(x=m==null?(_=y=S=C=null,Jt):Mr(_=+m[0][0],y=+m[0][1],S=+m[1][0],C=+m[1][1]),d()):_==null?null:[[_,y],[S,C]]},$.scale=function(m){return arguments.length?(e=+m,D()):e},$.translate=function(m){return arguments.length?(i=+m[0],r=+m[1],D()):[i,r]},$.center=function(m){return arguments.length?(a=m[0]%360*V,o=m[1]%360*V,D()):[a*Q,o*Q]},$.rotate=function(m){return arguments.length?(u=m[0]%360*V,f=m[1]%360*V,c=m.length>2?m[2]%360*V:0,D()):[u*Q,f*Q,c*Q]},$.angle=function(m){return arguments.length?(l=m%360*V,D()):l*Q},$.reflectX=function(m){return arguments.length?(h=m?-1:1,D()):h<0},$.reflectY=function(m){return arguments.length?(p=m?-1:1,D()):p<0},$.precision=function(m){return arguments.length?(b=Ue(T,M=m*m),d()):bn(M)},$.fitExtent=function(m,g){return Li($,m,g)},$.fitSize=function(m,g){return Dr($,m,g)},$.fitWidth=function(m,g){return Fr($,m,g)},$.fitHeight=function(m,g){return qr($,m,g)};function D(){var m=Ze(e,0,0,h,p,l).apply(null,t(a,o)),g=Ze(e,i-m[0],r-m[1],h,p,l);return s=yi(u,f,c),T=Kt(t,g),k=Kt(s,T),b=Ue(T,M),d()}function d(){return L=P=null,$}return function(){return t=n.apply(this,arguments),$.invert=t.invert&&U,D()}}function _e(n,t){return[n,hr(pr((Z+t)/2))]}_e.invert=function(n,t){return[n,2*vi(fr(t))-Z]};function Qr(){return Jr(_e).scale(961/W)}function Jr(n){var t=Zr(n),e=t.center,i=t.scale,r=t.translate,a=t.clipExtent,o=null,u,f,c;t.scale=function(l){return arguments.length?(i(l),s()):i()},t.translate=function(l){return arguments.length?(r(l),s()):r()},t.center=function(l){return arguments.length?(e(l),s()):e()},t.clipExtent=function(l){return arguments.length?(l==null?o=u=f=c=null:(o=+l[0][0],u=+l[0][1],f=+l[1][0],c=+l[1][1]),s()):o==null?null:[[o,u],[f,c]]};function s(){var l=z*i(),h=t(gr(t.rotate()).invert([0,0]));return a(o==null?[[h[0]-l,h[1]-l],[h[0]+l,h[1]+l]]:n===_e?[[Math.max(h[0]-l,o),u],[Math.min(h[0]+l,f),c]]:[[o,Math.max(h[1]-l,u)],[f,Math.min(h[1]+l,c)]])}return s()}var ue="http://www.w3.org/1999/xhtml";const Ke={svg:"http://www.w3.org/2000/svg",xhtml:ue,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function It(n){var t=n+="",e=t.indexOf(":");return e>=0&&(t=n.slice(0,e))!=="xmlns"&&(n=n.slice(e+1)),Ke.hasOwnProperty(t)?{space:Ke[t],local:n}:n}function Wr(n){return function(){var t=this.ownerDocument,e=this.namespaceURI;return e===ue&&t.documentElement.namespaceURI===ue?t.createElement(n):t.createElementNS(e,n)}}function jr(n){return function(){return this.ownerDocument.createElementNS(n.space,n.local)}}function Ri(n){var t=It(n);return(t.local?jr:Wr)(t)}function na(){}function we(n){return n==null?na:function(){return this.querySelector(n)}}function ta(n){typeof n!="function"&&(n=we(n));for(var t=this._groups,e=t.length,i=new Array(e),r=0;r<e;++r)for(var a=t[r],o=a.length,u=i[r]=new Array(o),f,c,s=0;s<o;++s)(f=a[s])&&(c=n.call(f,f.__data__,s,a))&&("__data__"in f&&(c.__data__=f.__data__),u[s]=c);return new j(i,this._parents)}function ea(n){return n==null?[]:Array.isArray(n)?n:Array.from(n)}function ia(){return[]}function zi(n){return n==null?ia:function(){return this.querySelectorAll(n)}}function ra(n){return function(){return ea(n.apply(this,arguments))}}function aa(n){typeof n=="function"?n=ra(n):n=zi(n);for(var t=this._groups,e=t.length,i=[],r=[],a=0;a<e;++a)for(var o=t[a],u=o.length,f,c=0;c<u;++c)(f=o[c])&&(i.push(n.call(f,f.__data__,c,o)),r.push(f));return new j(i,r)}function Pi(n){return function(){return this.matches(n)}}function Bi(n){return function(t){return t.matches(n)}}var oa=Array.prototype.find;function ua(n){return function(){return oa.call(this.children,n)}}function sa(){return this.firstElementChild}function ca(n){return this.select(n==null?sa:ua(typeof n=="function"?n:Bi(n)))}var la=Array.prototype.filter;function fa(){return Array.from(this.children)}function ha(n){return function(){return la.call(this.children,n)}}function da(n){return this.selectAll(n==null?fa:ha(typeof n=="function"?n:Bi(n)))}function pa(n){typeof n!="function"&&(n=Pi(n));for(var t=this._groups,e=t.length,i=new Array(e),r=0;r<e;++r)for(var a=t[r],o=a.length,u=i[r]=[],f,c=0;c<o;++c)(f=a[c])&&n.call(f,f.__data__,c,a)&&u.push(f);return new j(i,this._parents)}function Oi(n){return new Array(n.length)}function ma(){return new j(this._enter||this._groups.map(Oi),this._parents)}function Ct(n,t){this.ownerDocument=n.ownerDocument,this.namespaceURI=n.namespaceURI,this._next=null,this._parent=n,this.__data__=t}Ct.prototype={constructor:Ct,appendChild:function(n){return this._parent.insertBefore(n,this._next)},insertBefore:function(n,t){return this._parent.insertBefore(n,t)},querySelector:function(n){return this._parent.querySelector(n)},querySelectorAll:function(n){return this._parent.querySelectorAll(n)}};function ga(n){return function(){return n}}function va(n,t,e,i,r,a){for(var o=0,u,f=t.length,c=a.length;o<c;++o)(u=t[o])?(u.__data__=a[o],i[o]=u):e[o]=new Ct(n,a[o]);for(;o<f;++o)(u=t[o])&&(r[o]=u)}function ya(n,t,e,i,r,a,o){var u,f,c=new Map,s=t.length,l=a.length,h=new Array(s),p;for(u=0;u<s;++u)(f=t[u])&&(h[u]=p=o.call(f,f.__data__,u,t)+"",c.has(p)?r[u]=f:c.set(p,f));for(u=0;u<l;++u)p=o.call(n,a[u],u,a)+"",(f=c.get(p))?(i[u]=f,f.__data__=a[u],c.delete(p)):e[u]=new Ct(n,a[u]);for(u=0;u<s;++u)(f=t[u])&&c.get(h[u])===f&&(r[u]=f)}function _a(n){return n.__data__}function wa(n,t){if(!arguments.length)return Array.from(this,_a);var e=t?ya:va,i=this._parents,r=this._groups;typeof n!="function"&&(n=ga(n));for(var a=r.length,o=new Array(a),u=new Array(a),f=new Array(a),c=0;c<a;++c){var s=i[c],l=r[c],h=l.length,p=xa(n.call(s,s&&s.__data__,c,i)),v=p.length,w=u[c]=new Array(v),_=o[c]=new Array(v),y=f[c]=new Array(h);e(s,l,w,_,y,p,t);for(var S=0,C=0,x,M;S<v;++S)if(x=w[S]){for(S>=C&&(C=S+1);!(M=_[C])&&++C<v;);x._next=M||null}}return o=new j(o,i),o._enter=u,o._exit=f,o}function xa(n){return typeof n=="object"&&"length"in n?n:Array.from(n)}function Ea(){return new j(this._exit||this._groups.map(Oi),this._parents)}function Sa(n,t,e){var i=this.enter(),r=this,a=this.exit();return typeof n=="function"?(i=n(i),i&&(i=i.selection())):i=i.append(n+""),t!=null&&(r=t(r),r&&(r=r.selection())),e==null?a.remove():e(a),i&&r?i.merge(r).order():r}function ba(n){for(var t=n.selection?n.selection():n,e=this._groups,i=t._groups,r=e.length,a=i.length,o=Math.min(r,a),u=new Array(r),f=0;f<o;++f)for(var c=e[f],s=i[f],l=c.length,h=u[f]=new Array(l),p,v=0;v<l;++v)(p=c[v]||s[v])&&(h[v]=p);for(;f<r;++f)u[f]=e[f];return new j(u,this._parents)}function Ca(){for(var n=this._groups,t=-1,e=n.length;++t<e;)for(var i=n[t],r=i.length-1,a=i[r],o;--r>=0;)(o=i[r])&&(a&&o.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(o,a),a=o);return this}function Ma(n){n||(n=Aa);function t(l,h){return l&&h?n(l.__data__,h.__data__):!l-!h}for(var e=this._groups,i=e.length,r=new Array(i),a=0;a<i;++a){for(var o=e[a],u=o.length,f=r[a]=new Array(u),c,s=0;s<u;++s)(c=o[s])&&(f[s]=c);f.sort(t)}return new j(r,this._parents).order()}function Aa(n,t){return n<t?-1:n>t?1:n>=t?0:NaN}function Na(){var n=arguments[0];return arguments[0]=this,n.apply(null,arguments),this}function Ta(){return Array.from(this)}function $a(){for(var n=this._groups,t=0,e=n.length;t<e;++t)for(var i=n[t],r=0,a=i.length;r<a;++r){var o=i[r];if(o)return o}return null}function Ia(){let n=0;for(const t of this)++n;return n}function ka(){return!this.node()}function La(n){for(var t=this._groups,e=0,i=t.length;e<i;++e)for(var r=t[e],a=0,o=r.length,u;a<o;++a)(u=r[a])&&n.call(u,u.__data__,a,r);return this}function Ra(n){return function(){this.removeAttribute(n)}}function za(n){return function(){this.removeAttributeNS(n.space,n.local)}}function Pa(n,t){return function(){this.setAttribute(n,t)}}function Ba(n,t){return function(){this.setAttributeNS(n.space,n.local,t)}}function Oa(n,t){return function(){var e=t.apply(this,arguments);e==null?this.removeAttribute(n):this.setAttribute(n,e)}}function Da(n,t){return function(){var e=t.apply(this,arguments);e==null?this.removeAttributeNS(n.space,n.local):this.setAttributeNS(n.space,n.local,e)}}function Fa(n,t){var e=It(n);if(arguments.length<2){var i=this.node();return e.local?i.getAttributeNS(e.space,e.local):i.getAttribute(e)}return this.each((t==null?e.local?za:Ra:typeof t=="function"?e.local?Da:Oa:e.local?Ba:Pa)(e,t))}function Di(n){return n.ownerDocument&&n.ownerDocument.defaultView||n.document&&n||n.defaultView}function qa(n){return function(){this.style.removeProperty(n)}}function Ha(n,t,e){return function(){this.style.setProperty(n,t,e)}}function Xa(n,t,e){return function(){var i=t.apply(this,arguments);i==null?this.style.removeProperty(n):this.style.setProperty(n,i,e)}}function Ga(n,t,e){return arguments.length>1?this.each((t==null?qa:typeof t=="function"?Xa:Ha)(n,t,e??"")):Rn(this.node(),n)}function Rn(n,t){return n.style.getPropertyValue(t)||Di(n).getComputedStyle(n,null).getPropertyValue(t)}function Va(n){return function(){delete this[n]}}function Ya(n,t){return function(){this[n]=t}}function Ua(n,t){return function(){var e=t.apply(this,arguments);e==null?delete this[n]:this[n]=e}}function Za(n,t){return arguments.length>1?this.each((t==null?Va:typeof t=="function"?Ua:Ya)(n,t)):this.node()[n]}function Fi(n){return n.trim().split(/^|\s+/)}function xe(n){return n.classList||new qi(n)}function qi(n){this._node=n,this._names=Fi(n.getAttribute("class")||"")}qi.prototype={add:function(n){var t=this._names.indexOf(n);t<0&&(this._names.push(n),this._node.setAttribute("class",this._names.join(" ")))},remove:function(n){var t=this._names.indexOf(n);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(n){return this._names.indexOf(n)>=0}};function Hi(n,t){for(var e=xe(n),i=-1,r=t.length;++i<r;)e.add(t[i])}function Xi(n,t){for(var e=xe(n),i=-1,r=t.length;++i<r;)e.remove(t[i])}function Ka(n){return function(){Hi(this,n)}}function Qa(n){return function(){Xi(this,n)}}function Ja(n,t){return function(){(t.apply(this,arguments)?Hi:Xi)(this,n)}}function Wa(n,t){var e=Fi(n+"");if(arguments.length<2){for(var i=xe(this.node()),r=-1,a=e.length;++r<a;)if(!i.contains(e[r]))return!1;return!0}return this.each((typeof t=="function"?Ja:t?Ka:Qa)(e,t))}function ja(){this.textContent=""}function no(n){return function(){this.textContent=n}}function to(n){return function(){var t=n.apply(this,arguments);this.textContent=t??""}}function eo(n){return arguments.length?this.each(n==null?ja:(typeof n=="function"?to:no)(n)):this.node().textContent}function io(){this.innerHTML=""}function ro(n){return function(){this.innerHTML=n}}function ao(n){return function(){var t=n.apply(this,arguments);this.innerHTML=t??""}}function oo(n){return arguments.length?this.each(n==null?io:(typeof n=="function"?ao:ro)(n)):this.node().innerHTML}function uo(){this.nextSibling&&this.parentNode.appendChild(this)}function so(){return this.each(uo)}function co(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function lo(){return this.each(co)}function fo(n){var t=typeof n=="function"?n:Ri(n);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function ho(){return null}function po(n,t){var e=typeof n=="function"?n:Ri(n),i=t==null?ho:typeof t=="function"?t:we(t);return this.select(function(){return this.insertBefore(e.apply(this,arguments),i.apply(this,arguments)||null)})}function mo(){var n=this.parentNode;n&&n.removeChild(this)}function go(){return this.each(mo)}function vo(){var n=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(n,this.nextSibling):n}function yo(){var n=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(n,this.nextSibling):n}function _o(n){return this.select(n?yo:vo)}function wo(n){return arguments.length?this.property("__data__",n):this.node().__data__}function xo(n){return function(t){n.call(this,t,this.__data__)}}function Eo(n){return n.trim().split(/^|\s+/).map(function(t){var e="",i=t.indexOf(".");return i>=0&&(e=t.slice(i+1),t=t.slice(0,i)),{type:t,name:e}})}function So(n){return function(){var t=this.__on;if(t){for(var e=0,i=-1,r=t.length,a;e<r;++e)a=t[e],(!n.type||a.type===n.type)&&a.name===n.name?this.removeEventListener(a.type,a.listener,a.options):t[++i]=a;++i?t.length=i:delete this.__on}}}function bo(n,t,e){return function(){var i=this.__on,r,a=xo(t);if(i){for(var o=0,u=i.length;o<u;++o)if((r=i[o]).type===n.type&&r.name===n.name){this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=a,r.options=e),r.value=t;return}}this.addEventListener(n.type,a,e),r={type:n.type,name:n.name,value:t,listener:a,options:e},i?i.push(r):this.__on=[r]}}function Co(n,t,e){var i=Eo(n+""),r,a=i.length,o;if(arguments.length<2){var u=this.node().__on;if(u){for(var f=0,c=u.length,s;f<c;++f)for(r=0,s=u[f];r<a;++r)if((o=i[r]).type===s.type&&o.name===s.name)return s.value}return}for(u=t?bo:So,r=0;r<a;++r)this.each(u(i[r],t,e));return this}function Gi(n,t,e){var i=Di(n),r=i.CustomEvent;typeof r=="function"?r=new r(t,e):(r=i.document.createEvent("Event"),e?(r.initEvent(t,e.bubbles,e.cancelable),r.detail=e.detail):r.initEvent(t,!1,!1)),n.dispatchEvent(r)}function Mo(n,t){return function(){return Gi(this,n,t)}}function Ao(n,t){return function(){return Gi(this,n,t.apply(this,arguments))}}function No(n,t){return this.each((typeof t=="function"?Ao:Mo)(n,t))}function*To(){for(var n=this._groups,t=0,e=n.length;t<e;++t)for(var i=n[t],r=0,a=i.length,o;r<a;++r)(o=i[r])&&(yield o)}var Vi=[null];function j(n,t){this._groups=n,this._parents=t}function et(){return new j([[document.documentElement]],Vi)}function $o(){return this}j.prototype=et.prototype={constructor:j,select:ta,selectAll:aa,selectChild:ca,selectChildren:da,filter:pa,data:wa,enter:ma,exit:Ea,join:Sa,merge:ba,selection:$o,order:Ca,sort:Ma,call:Na,nodes:Ta,node:$a,size:Ia,empty:ka,each:La,attr:Fa,style:Ga,property:Za,classed:Wa,text:eo,html:oo,raise:so,lower:lo,append:fo,insert:po,remove:go,clone:_o,datum:wo,on:Co,dispatch:No,[Symbol.iterator]:To};function J(n){return typeof n=="string"?new j([[document.querySelector(n)]],[document.documentElement]):new j([[n]],Vi)}function Io(n){let t;for(;t=n.sourceEvent;)n=t;return n}function yn(n,t){if(n=Io(n),t===void 0&&(t=n.currentTarget),t){var e=t.ownerSVGElement||t;if(e.createSVGPoint){var i=e.createSVGPoint();return i.x=n.clientX,i.y=n.clientY,i=i.matrixTransform(t.getScreenCTM().inverse()),[i.x,i.y]}if(t.getBoundingClientRect){var r=t.getBoundingClientRect();return[n.clientX-r.left-t.clientLeft,n.clientY-r.top-t.clientTop]}}return[n.pageX,n.pageY]}var ko={value:()=>{}};function Ee(){for(var n=0,t=arguments.length,e={},i;n<t;++n){if(!(i=arguments[n]+"")||i in e||/[\s.]/.test(i))throw new Error("illegal type: "+i);e[i]=[]}return new dt(e)}function dt(n){this._=n}function Lo(n,t){return n.trim().split(/^|\s+/).map(function(e){var i="",r=e.indexOf(".");if(r>=0&&(i=e.slice(r+1),e=e.slice(0,r)),e&&!t.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:i}})}dt.prototype=Ee.prototype={constructor:dt,on:function(n,t){var e=this._,i=Lo(n+"",e),r,a=-1,o=i.length;if(arguments.length<2){for(;++a<o;)if((r=(n=i[a]).type)&&(r=Ro(e[r],n.name)))return r;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++a<o;)if(r=(n=i[a]).type)e[r]=Qe(e[r],n.name,t);else if(t==null)for(r in e)e[r]=Qe(e[r],n.name,null);return this},copy:function(){var n={},t=this._;for(var e in t)n[e]=t[e].slice();return new dt(n)},call:function(n,t){if((r=arguments.length-2)>0)for(var e=new Array(r),i=0,r,a;i<r;++i)e[i]=arguments[i+2];if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(a=this._[n],i=0,r=a.length;i<r;++i)a[i].value.apply(t,e)},apply:function(n,t,e){if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(var i=this._[n],r=0,a=i.length;r<a;++r)i[r].value.apply(t,e)}};function Ro(n,t){for(var e=0,i=n.length,r;e<i;++e)if((r=n[e]).name===t)return r.value}function Qe(n,t,e){for(var i=0,r=n.length;i<r;++i)if(n[i].name===t){n[i]=ko,n=n.slice(0,i).concat(n.slice(i+1));break}return e!=null&&n.push({name:t,value:e}),n}const se={capture:!0,passive:!1};function ce(n){n.preventDefault(),n.stopImmediatePropagation()}function zo(n){var t=n.document.documentElement,e=J(n).on("dragstart.drag",ce,se);"onselectstart"in t?e.on("selectstart.drag",ce,se):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function Po(n,t){var e=n.document.documentElement,i=J(n).on("dragstart.drag",null);t&&(i.on("click.drag",ce,se),setTimeout(function(){i.on("click.drag",null)},0)),"onselectstart"in e?i.on("selectstart.drag",null):(e.style.MozUserSelect=e.__noselect,delete e.__noselect)}function Se(n,t,e){n.prototype=t.prototype=e,e.constructor=n}function Yi(n,t){var e=Object.create(n.prototype);for(var i in t)e[i]=t[i];return e}function it(){}var Wn=.7,Mt=1/Wn,$n="\\s*([+-]?\\d+)\\s*",jn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",cn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Bo=/^#([0-9a-f]{3,8})$/,Oo=new RegExp(`^rgb\\(${$n},${$n},${$n}\\)$`),Do=new RegExp(`^rgb\\(${cn},${cn},${cn}\\)$`),Fo=new RegExp(`^rgba\\(${$n},${$n},${$n},${jn}\\)$`),qo=new RegExp(`^rgba\\(${cn},${cn},${cn},${jn}\\)$`),Ho=new RegExp(`^hsl\\(${jn},${cn},${cn}\\)$`),Xo=new RegExp(`^hsla\\(${jn},${cn},${cn},${jn}\\)$`),Je={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Se(it,nt,{copy(n){return Object.assign(new this.constructor,this,n)},displayable(){return this.rgb().displayable()},hex:We,formatHex:We,formatHex8:Go,formatHsl:Vo,formatRgb:je,toString:je});function We(){return this.rgb().formatHex()}function Go(){return this.rgb().formatHex8()}function Vo(){return Ui(this).formatHsl()}function je(){return this.rgb().formatRgb()}function nt(n){var t,e;return n=(n+"").trim().toLowerCase(),(t=Bo.exec(n))?(e=t[1].length,t=parseInt(t[1],16),e===6?ni(t):e===3?new K(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):e===8?st(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):e===4?st(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Oo.exec(n))?new K(t[1],t[2],t[3],1):(t=Do.exec(n))?new K(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Fo.exec(n))?st(t[1],t[2],t[3],t[4]):(t=qo.exec(n))?st(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Ho.exec(n))?ii(t[1],t[2]/100,t[3]/100,1):(t=Xo.exec(n))?ii(t[1],t[2]/100,t[3]/100,t[4]):Je.hasOwnProperty(n)?ni(Je[n]):n==="transparent"?new K(NaN,NaN,NaN,0):null}function ni(n){return new K(n>>16&255,n>>8&255,n&255,1)}function st(n,t,e,i){return i<=0&&(n=t=e=NaN),new K(n,t,e,i)}function Yo(n){return n instanceof it||(n=nt(n)),n?(n=n.rgb(),new K(n.r,n.g,n.b,n.opacity)):new K}function le(n,t,e,i){return arguments.length===1?Yo(n):new K(n,t,e,i??1)}function K(n,t,e,i){this.r=+n,this.g=+t,this.b=+e,this.opacity=+i}Se(K,le,Yi(it,{brighter(n){return n=n==null?Mt:Math.pow(Mt,n),new K(this.r*n,this.g*n,this.b*n,this.opacity)},darker(n){return n=n==null?Wn:Math.pow(Wn,n),new K(this.r*n,this.g*n,this.b*n,this.opacity)},rgb(){return this},clamp(){return new K(wn(this.r),wn(this.g),wn(this.b),At(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ti,formatHex:ti,formatHex8:Uo,formatRgb:ei,toString:ei}));function ti(){return`#${_n(this.r)}${_n(this.g)}${_n(this.b)}`}function Uo(){return`#${_n(this.r)}${_n(this.g)}${_n(this.b)}${_n((isNaN(this.opacity)?1:this.opacity)*255)}`}function ei(){const n=At(this.opacity);return`${n===1?"rgb(":"rgba("}${wn(this.r)}, ${wn(this.g)}, ${wn(this.b)}${n===1?")":`, ${n})`}`}function At(n){return isNaN(n)?1:Math.max(0,Math.min(1,n))}function wn(n){return Math.max(0,Math.min(255,Math.round(n)||0))}function _n(n){return n=wn(n),(n<16?"0":"")+n.toString(16)}function ii(n,t,e,i){return i<=0?n=t=e=NaN:e<=0||e>=1?n=t=NaN:t<=0&&(n=NaN),new rn(n,t,e,i)}function Ui(n){if(n instanceof rn)return new rn(n.h,n.s,n.l,n.opacity);if(n instanceof it||(n=nt(n)),!n)return new rn;if(n instanceof rn)return n;n=n.rgb();var t=n.r/255,e=n.g/255,i=n.b/255,r=Math.min(t,e,i),a=Math.max(t,e,i),o=NaN,u=a-r,f=(a+r)/2;return u?(t===a?o=(e-i)/u+(e<i)*6:e===a?o=(i-t)/u+2:o=(t-e)/u+4,u/=f<.5?a+r:2-a-r,o*=60):u=f>0&&f<1?0:o,new rn(o,u,f,n.opacity)}function Zo(n,t,e,i){return arguments.length===1?Ui(n):new rn(n,t,e,i??1)}function rn(n,t,e,i){this.h=+n,this.s=+t,this.l=+e,this.opacity=+i}Se(rn,Zo,Yi(it,{brighter(n){return n=n==null?Mt:Math.pow(Mt,n),new rn(this.h,this.s,this.l*n,this.opacity)},darker(n){return n=n==null?Wn:Math.pow(Wn,n),new rn(this.h,this.s,this.l*n,this.opacity)},rgb(){var n=this.h%360+(this.h<0)*360,t=isNaN(n)||isNaN(this.s)?0:this.s,e=this.l,i=e+(e<.5?e:1-e)*t,r=2*e-i;return new K(Dt(n>=240?n-240:n+120,r,i),Dt(n,r,i),Dt(n<120?n+240:n-120,r,i),this.opacity)},clamp(){return new rn(ri(this.h),ct(this.s),ct(this.l),At(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const n=At(this.opacity);return`${n===1?"hsl(":"hsla("}${ri(this.h)}, ${ct(this.s)*100}%, ${ct(this.l)*100}%${n===1?")":`, ${n})`}`}}));function ri(n){return n=(n||0)%360,n<0?n+360:n}function ct(n){return Math.max(0,Math.min(1,n||0))}function Dt(n,t,e){return(n<60?t+(e-t)*n/60:n<180?e:n<240?t+(e-t)*(240-n)/60:t)*255}const Zi=n=>()=>n;function Ko(n,t){return function(e){return n+e*t}}function Qo(n,t,e){return n=Math.pow(n,e),t=Math.pow(t,e)-n,e=1/e,function(i){return Math.pow(n+i*t,e)}}function Jo(n){return(n=+n)==1?Ki:function(t,e){return e-t?Qo(t,e,n):Zi(isNaN(t)?e:t)}}function Ki(n,t){var e=t-n;return e?Ko(n,e):Zi(isNaN(n)?t:n)}const ai=function n(t){var e=Jo(t);function i(r,a){var o=e((r=le(r)).r,(a=le(a)).r),u=e(r.g,a.g),f=e(r.b,a.b),c=Ki(r.opacity,a.opacity);return function(s){return r.r=o(s),r.g=u(s),r.b=f(s),r.opacity=c(s),r+""}}return i.gamma=n,i}(1);function vn(n,t){return n=+n,t=+t,function(e){return n*(1-e)+t*e}}var fe=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ft=new RegExp(fe.source,"g");function Wo(n){return function(){return n}}function jo(n){return function(t){return n(t)+""}}function nu(n,t){var e=fe.lastIndex=Ft.lastIndex=0,i,r,a,o=-1,u=[],f=[];for(n=n+"",t=t+"";(i=fe.exec(n))&&(r=Ft.exec(t));)(a=r.index)>e&&(a=t.slice(e,a),u[o]?u[o]+=a:u[++o]=a),(i=i[0])===(r=r[0])?u[o]?u[o]+=r:u[++o]=r:(u[++o]=null,f.push({i:o,x:vn(i,r)})),e=Ft.lastIndex;return e<t.length&&(a=t.slice(e),u[o]?u[o]+=a:u[++o]=a),u.length<2?f[0]?jo(f[0].x):Wo(t):(t=f.length,function(c){for(var s=0,l;s<t;++s)u[(l=f[s]).i]=l.x(c);return u.join("")})}var oi=180/Math.PI,he={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Qi(n,t,e,i,r,a){var o,u,f;return(o=Math.sqrt(n*n+t*t))&&(n/=o,t/=o),(f=n*e+t*i)&&(e-=n*f,i-=t*f),(u=Math.sqrt(e*e+i*i))&&(e/=u,i/=u,f/=u),n*i<t*e&&(n=-n,t=-t,f=-f,o=-o),{translateX:r,translateY:a,rotate:Math.atan2(t,n)*oi,skewX:Math.atan(f)*oi,scaleX:o,scaleY:u}}var lt;function tu(n){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(n+"");return t.isIdentity?he:Qi(t.a,t.b,t.c,t.d,t.e,t.f)}function eu(n){return n==null||(lt||(lt=document.createElementNS("http://www.w3.org/2000/svg","g")),lt.setAttribute("transform",n),!(n=lt.transform.baseVal.consolidate()))?he:(n=n.matrix,Qi(n.a,n.b,n.c,n.d,n.e,n.f))}function Ji(n,t,e,i){function r(c){return c.length?c.pop()+" ":""}function a(c,s,l,h,p,v){if(c!==l||s!==h){var w=p.push("translate(",null,t,null,e);v.push({i:w-4,x:vn(c,l)},{i:w-2,x:vn(s,h)})}else(l||h)&&p.push("translate("+l+t+h+e)}function o(c,s,l,h){c!==s?(c-s>180?s+=360:s-c>180&&(c+=360),h.push({i:l.push(r(l)+"rotate(",null,i)-2,x:vn(c,s)})):s&&l.push(r(l)+"rotate("+s+i)}function u(c,s,l,h){c!==s?h.push({i:l.push(r(l)+"skewX(",null,i)-2,x:vn(c,s)}):s&&l.push(r(l)+"skewX("+s+i)}function f(c,s,l,h,p,v){if(c!==l||s!==h){var w=p.push(r(p)+"scale(",null,",",null,")");v.push({i:w-4,x:vn(c,l)},{i:w-2,x:vn(s,h)})}else(l!==1||h!==1)&&p.push(r(p)+"scale("+l+","+h+")")}return function(c,s){var l=[],h=[];return c=n(c),s=n(s),a(c.translateX,c.translateY,s.translateX,s.translateY,l,h),o(c.rotate,s.rotate,l,h),u(c.skewX,s.skewX,l,h),f(c.scaleX,c.scaleY,s.scaleX,s.scaleY,l,h),c=s=null,function(p){for(var v=-1,w=h.length,_;++v<w;)l[(_=h[v]).i]=_.x(p);return l.join("")}}}var iu=Ji(tu,"px, ","px)","deg)"),ru=Ji(eu,", ",")",")"),au=1e-12;function ui(n){return((n=Math.exp(n))+1/n)/2}function ou(n){return((n=Math.exp(n))-1/n)/2}function uu(n){return((n=Math.exp(2*n))-1)/(n+1)}const su=function n(t,e,i){function r(a,o){var u=a[0],f=a[1],c=a[2],s=o[0],l=o[1],h=o[2],p=s-u,v=l-f,w=p*p+v*v,_,y;if(w<au)y=Math.log(h/c)/t,_=function(T){return[u+T*p,f+T*v,c*Math.exp(t*T*y)]};else{var S=Math.sqrt(w),C=(h*h-c*c+i*w)/(2*c*e*S),x=(h*h-c*c-i*w)/(2*h*e*S),M=Math.log(Math.sqrt(C*C+1)-C),b=Math.log(Math.sqrt(x*x+1)-x);y=(b-M)/t,_=function(T){var k=T*y,L=ui(M),P=c/(e*S)*(L*uu(t*k+M)-ou(M));return[u+P*p,f+P*v,c*L/ui(t*k+M)]}}return _.duration=y*1e3*t/Math.SQRT2,_}return r.rho=function(a){var o=Math.max(.001,+a),u=o*o,f=u*u;return n(o,u,f)},r}(Math.SQRT2,2,4);var zn=0,Gn=0,Pn=0,Wi=1e3,Nt,Vn,Tt=0,Sn=0,kt=0,tt=typeof performance=="object"&&performance.now?performance:Date,ji=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(n){setTimeout(n,17)};function be(){return Sn||(ji(cu),Sn=tt.now()+kt)}function cu(){Sn=0}function $t(){this._call=this._time=this._next=null}$t.prototype=nr.prototype={constructor:$t,restart:function(n,t,e){if(typeof n!="function")throw new TypeError("callback is not a function");e=(e==null?be():+e)+(t==null?0:+t),!this._next&&Vn!==this&&(Vn?Vn._next=this:Nt=this,Vn=this),this._call=n,this._time=e,de()},stop:function(){this._call&&(this._call=null,this._time=1/0,de())}};function nr(n,t,e){var i=new $t;return i.restart(n,t,e),i}function lu(){be(),++zn;for(var n=Nt,t;n;)(t=Sn-n._time)>=0&&n._call.call(void 0,t),n=n._next;--zn}function si(){Sn=(Tt=tt.now())+kt,zn=Gn=0;try{lu()}finally{zn=0,hu(),Sn=0}}function fu(){var n=tt.now(),t=n-Tt;t>Wi&&(kt-=t,Tt=n)}function hu(){for(var n,t=Nt,e,i=1/0;t;)t._call?(i>t._time&&(i=t._time),n=t,t=t._next):(e=t._next,t._next=null,t=n?n._next=e:Nt=e);Vn=n,de(i)}function de(n){if(!zn){Gn&&(Gn=clearTimeout(Gn));var t=n-Sn;t>24?(n<1/0&&(Gn=setTimeout(si,n-tt.now()-kt)),Pn&&(Pn=clearInterval(Pn))):(Pn||(Tt=tt.now(),Pn=setInterval(fu,Wi)),zn=1,ji(si))}}function ci(n,t,e){var i=new $t;return t=t==null?0:+t,i.restart(r=>{i.stop(),n(r+t)},t,e),i}var du=Ee("start","end","cancel","interrupt"),pu=[],tr=0,li=1,pe=2,pt=3,fi=4,me=5,mt=6;function Lt(n,t,e,i,r,a){var o=n.__transition;if(!o)n.__transition={};else if(e in o)return;mu(n,e,{name:t,index:i,group:r,on:du,tween:pu,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:tr})}function Ce(n,t){var e=an(n,t);if(e.state>tr)throw new Error("too late; already scheduled");return e}function ln(n,t){var e=an(n,t);if(e.state>pt)throw new Error("too late; already running");return e}function an(n,t){var e=n.__transition;if(!e||!(e=e[t]))throw new Error("transition not found");return e}function mu(n,t,e){var i=n.__transition,r;i[t]=e,e.timer=nr(a,0,e.time);function a(c){e.state=li,e.timer.restart(o,e.delay,e.time),e.delay<=c&&o(c-e.delay)}function o(c){var s,l,h,p;if(e.state!==li)return f();for(s in i)if(p=i[s],p.name===e.name){if(p.state===pt)return ci(o);p.state===fi?(p.state=mt,p.timer.stop(),p.on.call("interrupt",n,n.__data__,p.index,p.group),delete i[s]):+s<t&&(p.state=mt,p.timer.stop(),p.on.call("cancel",n,n.__data__,p.index,p.group),delete i[s])}if(ci(function(){e.state===pt&&(e.state=fi,e.timer.restart(u,e.delay,e.time),u(c))}),e.state=pe,e.on.call("start",n,n.__data__,e.index,e.group),e.state===pe){for(e.state=pt,r=new Array(h=e.tween.length),s=0,l=-1;s<h;++s)(p=e.tween[s].value.call(n,n.__data__,e.index,e.group))&&(r[++l]=p);r.length=l+1}}function u(c){for(var s=c<e.duration?e.ease.call(null,c/e.duration):(e.timer.restart(f),e.state=me,1),l=-1,h=r.length;++l<h;)r[l].call(n,s);e.state===me&&(e.on.call("end",n,n.__data__,e.index,e.group),f())}function f(){e.state=mt,e.timer.stop(),delete i[t];for(var c in i)return;delete n.__transition}}function gt(n,t){var e=n.__transition,i,r,a=!0,o;if(e){t=t==null?null:t+"";for(o in e){if((i=e[o]).name!==t){a=!1;continue}r=i.state>pe&&i.state<me,i.state=mt,i.timer.stop(),i.on.call(r?"interrupt":"cancel",n,n.__data__,i.index,i.group),delete e[o]}a&&delete n.__transition}}function gu(n){return this.each(function(){gt(this,n)})}function vu(n,t){var e,i;return function(){var r=ln(this,n),a=r.tween;if(a!==e){i=e=a;for(var o=0,u=i.length;o<u;++o)if(i[o].name===t){i=i.slice(),i.splice(o,1);break}}r.tween=i}}function yu(n,t,e){var i,r;if(typeof e!="function")throw new Error;return function(){var a=ln(this,n),o=a.tween;if(o!==i){r=(i=o).slice();for(var u={name:t,value:e},f=0,c=r.length;f<c;++f)if(r[f].name===t){r[f]=u;break}f===c&&r.push(u)}a.tween=r}}function _u(n,t){var e=this._id;if(n+="",arguments.length<2){for(var i=an(this.node(),e).tween,r=0,a=i.length,o;r<a;++r)if((o=i[r]).name===n)return o.value;return null}return this.each((t==null?vu:yu)(e,n,t))}function Me(n,t,e){var i=n._id;return n.each(function(){var r=ln(this,i);(r.value||(r.value={}))[t]=e.apply(this,arguments)}),function(r){return an(r,i).value[t]}}function er(n,t){var e;return(typeof t=="number"?vn:t instanceof nt?ai:(e=nt(t))?(t=e,ai):nu)(n,t)}function wu(n){return function(){this.removeAttribute(n)}}function xu(n){return function(){this.removeAttributeNS(n.space,n.local)}}function Eu(n,t,e){var i,r=e+"",a;return function(){var o=this.getAttribute(n);return o===r?null:o===i?a:a=t(i=o,e)}}function Su(n,t,e){var i,r=e+"",a;return function(){var o=this.getAttributeNS(n.space,n.local);return o===r?null:o===i?a:a=t(i=o,e)}}function bu(n,t,e){var i,r,a;return function(){var o,u=e(this),f;return u==null?void this.removeAttribute(n):(o=this.getAttribute(n),f=u+"",o===f?null:o===i&&f===r?a:(r=f,a=t(i=o,u)))}}function Cu(n,t,e){var i,r,a;return function(){var o,u=e(this),f;return u==null?void this.removeAttributeNS(n.space,n.local):(o=this.getAttributeNS(n.space,n.local),f=u+"",o===f?null:o===i&&f===r?a:(r=f,a=t(i=o,u)))}}function Mu(n,t){var e=It(n),i=e==="transform"?ru:er;return this.attrTween(n,typeof t=="function"?(e.local?Cu:bu)(e,i,Me(this,"attr."+n,t)):t==null?(e.local?xu:wu)(e):(e.local?Su:Eu)(e,i,t))}function Au(n,t){return function(e){this.setAttribute(n,t.call(this,e))}}function Nu(n,t){return function(e){this.setAttributeNS(n.space,n.local,t.call(this,e))}}function Tu(n,t){var e,i;function r(){var a=t.apply(this,arguments);return a!==i&&(e=(i=a)&&Nu(n,a)),e}return r._value=t,r}function $u(n,t){var e,i;function r(){var a=t.apply(this,arguments);return a!==i&&(e=(i=a)&&Au(n,a)),e}return r._value=t,r}function Iu(n,t){var e="attr."+n;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;var i=It(n);return this.tween(e,(i.local?Tu:$u)(i,t))}function ku(n,t){return function(){Ce(this,n).delay=+t.apply(this,arguments)}}function Lu(n,t){return t=+t,function(){Ce(this,n).delay=t}}function Ru(n){var t=this._id;return arguments.length?this.each((typeof n=="function"?ku:Lu)(t,n)):an(this.node(),t).delay}function zu(n,t){return function(){ln(this,n).duration=+t.apply(this,arguments)}}function Pu(n,t){return t=+t,function(){ln(this,n).duration=t}}function Bu(n){var t=this._id;return arguments.length?this.each((typeof n=="function"?zu:Pu)(t,n)):an(this.node(),t).duration}function Ou(n,t){if(typeof t!="function")throw new Error;return function(){ln(this,n).ease=t}}function Du(n){var t=this._id;return arguments.length?this.each(Ou(t,n)):an(this.node(),t).ease}function Fu(n,t){return function(){var e=t.apply(this,arguments);if(typeof e!="function")throw new Error;ln(this,n).ease=e}}function qu(n){if(typeof n!="function")throw new Error;return this.each(Fu(this._id,n))}function Hu(n){typeof n!="function"&&(n=Pi(n));for(var t=this._groups,e=t.length,i=new Array(e),r=0;r<e;++r)for(var a=t[r],o=a.length,u=i[r]=[],f,c=0;c<o;++c)(f=a[c])&&n.call(f,f.__data__,c,a)&&u.push(f);return new gn(i,this._parents,this._name,this._id)}function Xu(n){if(n._id!==this._id)throw new Error;for(var t=this._groups,e=n._groups,i=t.length,r=e.length,a=Math.min(i,r),o=new Array(i),u=0;u<a;++u)for(var f=t[u],c=e[u],s=f.length,l=o[u]=new Array(s),h,p=0;p<s;++p)(h=f[p]||c[p])&&(l[p]=h);for(;u<i;++u)o[u]=t[u];return new gn(o,this._parents,this._name,this._id)}function Gu(n){return(n+"").trim().split(/^|\s+/).every(function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||t==="start"})}function Vu(n,t,e){var i,r,a=Gu(t)?Ce:ln;return function(){var o=a(this,n),u=o.on;u!==i&&(r=(i=u).copy()).on(t,e),o.on=r}}function Yu(n,t){var e=this._id;return arguments.length<2?an(this.node(),e).on.on(n):this.each(Vu(e,n,t))}function Uu(n){return function(){var t=this.parentNode;for(var e in this.__transition)if(+e!==n)return;t&&t.removeChild(this)}}function Zu(){return this.on("end.remove",Uu(this._id))}function Ku(n){var t=this._name,e=this._id;typeof n!="function"&&(n=we(n));for(var i=this._groups,r=i.length,a=new Array(r),o=0;o<r;++o)for(var u=i[o],f=u.length,c=a[o]=new Array(f),s,l,h=0;h<f;++h)(s=u[h])&&(l=n.call(s,s.__data__,h,u))&&("__data__"in s&&(l.__data__=s.__data__),c[h]=l,Lt(c[h],t,e,h,c,an(s,e)));return new gn(a,this._parents,t,e)}function Qu(n){var t=this._name,e=this._id;typeof n!="function"&&(n=zi(n));for(var i=this._groups,r=i.length,a=[],o=[],u=0;u<r;++u)for(var f=i[u],c=f.length,s,l=0;l<c;++l)if(s=f[l]){for(var h=n.call(s,s.__data__,l,f),p,v=an(s,e),w=0,_=h.length;w<_;++w)(p=h[w])&&Lt(p,t,e,w,h,v);a.push(h),o.push(s)}return new gn(a,o,t,e)}var Ju=et.prototype.constructor;function Wu(){return new Ju(this._groups,this._parents)}function ju(n,t){var e,i,r;return function(){var a=Rn(this,n),o=(this.style.removeProperty(n),Rn(this,n));return a===o?null:a===e&&o===i?r:r=t(e=a,i=o)}}function ir(n){return function(){this.style.removeProperty(n)}}function ns(n,t,e){var i,r=e+"",a;return function(){var o=Rn(this,n);return o===r?null:o===i?a:a=t(i=o,e)}}function ts(n,t,e){var i,r,a;return function(){var o=Rn(this,n),u=e(this),f=u+"";return u==null&&(f=u=(this.style.removeProperty(n),Rn(this,n))),o===f?null:o===i&&f===r?a:(r=f,a=t(i=o,u))}}function es(n,t){var e,i,r,a="style."+t,o="end."+a,u;return function(){var f=ln(this,n),c=f.on,s=f.value[a]==null?u||(u=ir(t)):void 0;(c!==e||r!==s)&&(i=(e=c).copy()).on(o,r=s),f.on=i}}function is(n,t,e){var i=(n+="")=="transform"?iu:er;return t==null?this.styleTween(n,ju(n,i)).on("end.style."+n,ir(n)):typeof t=="function"?this.styleTween(n,ts(n,i,Me(this,"style."+n,t))).each(es(this._id,n)):this.styleTween(n,ns(n,i,t),e).on("end.style."+n,null)}function rs(n,t,e){return function(i){this.style.setProperty(n,t.call(this,i),e)}}function as(n,t,e){var i,r;function a(){var o=t.apply(this,arguments);return o!==r&&(i=(r=o)&&rs(n,o,e)),i}return a._value=t,a}function os(n,t,e){var i="style."+(n+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(t==null)return this.tween(i,null);if(typeof t!="function")throw new Error;return this.tween(i,as(n,t,e??""))}function us(n){return function(){this.textContent=n}}function ss(n){return function(){var t=n(this);this.textContent=t??""}}function cs(n){return this.tween("text",typeof n=="function"?ss(Me(this,"text",n)):us(n==null?"":n+""))}function ls(n){return function(t){this.textContent=n.call(this,t)}}function fs(n){var t,e;function i(){var r=n.apply(this,arguments);return r!==e&&(t=(e=r)&&ls(r)),t}return i._value=n,i}function hs(n){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(n==null)return this.tween(t,null);if(typeof n!="function")throw new Error;return this.tween(t,fs(n))}function ds(){for(var n=this._name,t=this._id,e=rr(),i=this._groups,r=i.length,a=0;a<r;++a)for(var o=i[a],u=o.length,f,c=0;c<u;++c)if(f=o[c]){var s=an(f,t);Lt(f,n,e,c,o,{time:s.time+s.delay+s.duration,delay:0,duration:s.duration,ease:s.ease})}return new gn(i,this._parents,n,e)}function ps(){var n,t,e=this,i=e._id,r=e.size();return new Promise(function(a,o){var u={value:o},f={value:function(){--r===0&&a()}};e.each(function(){var c=ln(this,i),s=c.on;s!==n&&(t=(n=s).copy(),t._.cancel.push(u),t._.interrupt.push(u),t._.end.push(f)),c.on=t}),r===0&&a()})}var ms=0;function gn(n,t,e,i){this._groups=n,this._parents=t,this._name=e,this._id=i}function rr(){return++ms}var dn=et.prototype;gn.prototype={constructor:gn,select:Ku,selectAll:Qu,selectChild:dn.selectChild,selectChildren:dn.selectChildren,filter:Hu,merge:Xu,selection:Wu,transition:ds,call:dn.call,nodes:dn.nodes,node:dn.node,size:dn.size,empty:dn.empty,each:dn.each,on:Yu,attr:Mu,attrTween:Iu,style:is,styleTween:os,text:cs,textTween:hs,remove:Zu,tween:_u,delay:Ru,duration:Bu,ease:Du,easeVarying:qu,end:ps,[Symbol.iterator]:dn[Symbol.iterator]};function gs(n){return((n*=2)<=1?n*n*n:(n-=2)*n*n+2)/2}var vs={time:null,delay:0,duration:250,ease:gs};function ys(n,t){for(var e;!(e=n.__transition)||!(e=e[t]);)if(!(n=n.parentNode))throw new Error(`transition ${t} not found`);return e}function _s(n){var t,e;n instanceof gn?(t=n._id,n=n._name):(t=rr(),(e=vs).time=be(),n=n==null?null:n+"");for(var i=this._groups,r=i.length,a=0;a<r;++a)for(var o=i[a],u=o.length,f,c=0;c<u;++c)(f=o[c])&&Lt(f,n,t,c,o,e||ys(f,t));return new gn(i,this._parents,n,t)}et.prototype.interrupt=gu;et.prototype.transition=_s;const ft=n=>()=>n;function ws(n,{sourceEvent:t,target:e,transform:i,dispatch:r}){Object.defineProperties(this,{type:{value:n,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:e,enumerable:!0,configurable:!0},transform:{value:i,enumerable:!0,configurable:!0},_:{value:r}})}function mn(n,t,e){this.k=n,this.x=t,this.y=e}mn.prototype={constructor:mn,scale:function(n){return n===1?this:new mn(this.k*n,this.x,this.y)},translate:function(n,t){return n===0&t===0?this:new mn(this.k,this.x+this.k*n,this.y+this.k*t)},apply:function(n){return[n[0]*this.k+this.x,n[1]*this.k+this.y]},applyX:function(n){return n*this.k+this.x},applyY:function(n){return n*this.k+this.y},invert:function(n){return[(n[0]-this.x)/this.k,(n[1]-this.y)/this.k]},invertX:function(n){return(n-this.x)/this.k},invertY:function(n){return(n-this.y)/this.k},rescaleX:function(n){return n.copy().domain(n.range().map(this.invertX,this).map(n.invert,n))},rescaleY:function(n){return n.copy().domain(n.range().map(this.invertY,this).map(n.invert,n))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Ae=new mn(1,0,0);mn.prototype;function qt(n){n.stopImmediatePropagation()}function Bn(n){n.preventDefault(),n.stopImmediatePropagation()}function xs(n){return(!n.ctrlKey||n.type==="wheel")&&!n.button}function Es(){var n=this;return n instanceof SVGElement?(n=n.ownerSVGElement||n,n.hasAttribute("viewBox")?(n=n.viewBox.baseVal,[[n.x,n.y],[n.x+n.width,n.y+n.height]]):[[0,0],[n.width.baseVal.value,n.height.baseVal.value]]):[[0,0],[n.clientWidth,n.clientHeight]]}function hi(){return this.__zoom||Ae}function Ss(n){return-n.deltaY*(n.deltaMode===1?.05:n.deltaMode?1:.002)*(n.ctrlKey?10:1)}function bs(){return navigator.maxTouchPoints||"ontouchstart"in this}function Cs(n,t,e){var i=n.invertX(t[0][0])-e[0][0],r=n.invertX(t[1][0])-e[1][0],a=n.invertY(t[0][1])-e[0][1],o=n.invertY(t[1][1])-e[1][1];return n.translate(r>i?(i+r)/2:Math.min(0,i)||Math.max(0,r),o>a?(a+o)/2:Math.min(0,a)||Math.max(0,o))}function Ms(){var n=xs,t=Es,e=Cs,i=Ss,r=bs,a=[0,1/0],o=[[-1/0,-1/0],[1/0,1/0]],u=250,f=su,c=Ee("start","zoom","end"),s,l,h,p=500,v=150,w=0,_=10;function y(d){d.property("__zoom",hi).on("wheel.zoom",k,{passive:!1}).on("mousedown.zoom",L).on("dblclick.zoom",P).filter(r).on("touchstart.zoom",$).on("touchmove.zoom",U).on("touchend.zoom touchcancel.zoom",D).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}y.transform=function(d,m,g,E){var A=d.selection?d.selection():d;A.property("__zoom",hi),d!==A?M(d,m,g,E):A.interrupt().each(function(){b(this,arguments).event(E).start().zoom(null,typeof m=="function"?m.apply(this,arguments):m).end()})},y.scaleBy=function(d,m,g,E){y.scaleTo(d,function(){var A=this.__zoom.k,N=typeof m=="function"?m.apply(this,arguments):m;return A*N},g,E)},y.scaleTo=function(d,m,g,E){y.transform(d,function(){var A=t.apply(this,arguments),N=this.__zoom,I=g==null?x(A):typeof g=="function"?g.apply(this,arguments):g,R=N.invert(I),B=typeof m=="function"?m.apply(this,arguments):m;return e(C(S(N,B),I,R),A,o)},g,E)},y.translateBy=function(d,m,g,E){y.transform(d,function(){return e(this.__zoom.translate(typeof m=="function"?m.apply(this,arguments):m,typeof g=="function"?g.apply(this,arguments):g),t.apply(this,arguments),o)},null,E)},y.translateTo=function(d,m,g,E,A){y.transform(d,function(){var N=t.apply(this,arguments),I=this.__zoom,R=E==null?x(N):typeof E=="function"?E.apply(this,arguments):E;return e(Ae.translate(R[0],R[1]).scale(I.k).translate(typeof m=="function"?-m.apply(this,arguments):-m,typeof g=="function"?-g.apply(this,arguments):-g),N,o)},E,A)};function S(d,m){return m=Math.max(a[0],Math.min(a[1],m)),m===d.k?d:new mn(m,d.x,d.y)}function C(d,m,g){var E=m[0]-g[0]*d.k,A=m[1]-g[1]*d.k;return E===d.x&&A===d.y?d:new mn(d.k,E,A)}function x(d){return[(+d[0][0]+ +d[1][0])/2,(+d[0][1]+ +d[1][1])/2]}function M(d,m,g,E){d.on("start.zoom",function(){b(this,arguments).event(E).start()}).on("interrupt.zoom end.zoom",function(){b(this,arguments).event(E).end()}).tween("zoom",function(){var A=this,N=arguments,I=b(A,N).event(E),R=t.apply(A,N),B=g==null?x(R):typeof g=="function"?g.apply(A,N):g,G=Math.max(R[1][0]-R[0][0],R[1][1]-R[0][1]),q=A.__zoom,Y=typeof m=="function"?m.apply(A,N):m,fn=f(q.invert(B).concat(G/q.k),Y.invert(B).concat(G/Y.k));return function(en){if(en===1)en=Y;else{var hn=fn(en),Rt=G/hn[2];en=new mn(Rt,B[0]-hn[0]*Rt,B[1]-hn[1]*Rt)}I.zoom(null,en)}})}function b(d,m,g){return!g&&d.__zooming||new T(d,m)}function T(d,m){this.that=d,this.args=m,this.active=0,this.sourceEvent=null,this.extent=t.apply(d,m),this.taps=0}T.prototype={event:function(d){return d&&(this.sourceEvent=d),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(d,m){return this.mouse&&d!=="mouse"&&(this.mouse[1]=m.invert(this.mouse[0])),this.touch0&&d!=="touch"&&(this.touch0[1]=m.invert(this.touch0[0])),this.touch1&&d!=="touch"&&(this.touch1[1]=m.invert(this.touch1[0])),this.that.__zoom=m,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(d){var m=J(this.that).datum();c.call(d,this.that,new ws(d,{sourceEvent:this.sourceEvent,target:y,transform:this.that.__zoom,dispatch:c}),m)}};function k(d,...m){if(!n.apply(this,arguments))return;var g=b(this,m).event(d),E=this.__zoom,A=Math.max(a[0],Math.min(a[1],E.k*Math.pow(2,i.apply(this,arguments)))),N=yn(d);if(g.wheel)(g.mouse[0][0]!==N[0]||g.mouse[0][1]!==N[1])&&(g.mouse[1]=E.invert(g.mouse[0]=N)),clearTimeout(g.wheel);else{if(E.k===A)return;g.mouse=[N,E.invert(N)],gt(this),g.start()}Bn(d),g.wheel=setTimeout(I,v),g.zoom("mouse",e(C(S(E,A),g.mouse[0],g.mouse[1]),g.extent,o));function I(){g.wheel=null,g.end()}}function L(d,...m){if(h||!n.apply(this,arguments))return;var g=d.currentTarget,E=b(this,m,!0).event(d),A=J(d.view).on("mousemove.zoom",B,!0).on("mouseup.zoom",G,!0),N=yn(d,g),I=d.clientX,R=d.clientY;zo(d.view),qt(d),E.mouse=[N,this.__zoom.invert(N)],gt(this),E.start();function B(q){if(Bn(q),!E.moved){var Y=q.clientX-I,fn=q.clientY-R;E.moved=Y*Y+fn*fn>w}E.event(q).zoom("mouse",e(C(E.that.__zoom,E.mouse[0]=yn(q,g),E.mouse[1]),E.extent,o))}function G(q){A.on("mousemove.zoom mouseup.zoom",null),Po(q.view,E.moved),Bn(q),E.event(q).end()}}function P(d,...m){if(n.apply(this,arguments)){var g=this.__zoom,E=yn(d.changedTouches?d.changedTouches[0]:d,this),A=g.invert(E),N=g.k*(d.shiftKey?.5:2),I=e(C(S(g,N),E,A),t.apply(this,m),o);Bn(d),u>0?J(this).transition().duration(u).call(M,I,E,d):J(this).call(y.transform,I,E,d)}}function $(d,...m){if(n.apply(this,arguments)){var g=d.touches,E=g.length,A=b(this,m,d.changedTouches.length===E).event(d),N,I,R,B;for(qt(d),I=0;I<E;++I)R=g[I],B=yn(R,this),B=[B,this.__zoom.invert(B),R.identifier],A.touch0?!A.touch1&&A.touch0[2]!==B[2]&&(A.touch1=B,A.taps=0):(A.touch0=B,N=!0,A.taps=1+!!s);s&&(s=clearTimeout(s)),N&&(A.taps<2&&(l=B[0],s=setTimeout(function(){s=null},p)),gt(this),A.start())}}function U(d,...m){if(this.__zooming){var g=b(this,m).event(d),E=d.changedTouches,A=E.length,N,I,R,B;for(Bn(d),N=0;N<A;++N)I=E[N],R=yn(I,this),g.touch0&&g.touch0[2]===I.identifier?g.touch0[0]=R:g.touch1&&g.touch1[2]===I.identifier&&(g.touch1[0]=R);if(I=g.that.__zoom,g.touch1){var G=g.touch0[0],q=g.touch0[1],Y=g.touch1[0],fn=g.touch1[1],en=(en=Y[0]-G[0])*en+(en=Y[1]-G[1])*en,hn=(hn=fn[0]-q[0])*hn+(hn=fn[1]-q[1])*hn;I=S(I,Math.sqrt(en/hn)),R=[(G[0]+Y[0])/2,(G[1]+Y[1])/2],B=[(q[0]+fn[0])/2,(q[1]+fn[1])/2]}else if(g.touch0)R=g.touch0[0],B=g.touch0[1];else return;g.zoom("touch",e(C(I,R,B),g.extent,o))}}function D(d,...m){if(this.__zooming){var g=b(this,m).event(d),E=d.changedTouches,A=E.length,N,I;for(qt(d),h&&clearTimeout(h),h=setTimeout(function(){h=null},p),N=0;N<A;++N)I=E[N],g.touch0&&g.touch0[2]===I.identifier?delete g.touch0:g.touch1&&g.touch1[2]===I.identifier&&delete g.touch1;if(g.touch1&&!g.touch0&&(g.touch0=g.touch1,delete g.touch1),g.touch0)g.touch0[1]=this.__zoom.invert(g.touch0[0]);else if(g.end(),g.taps===2&&(I=yn(I,this),Math.hypot(l[0]-I[0],l[1]-I[1])<_)){var R=J(this).on("dblclick.zoom");R&&R.apply(this,arguments)}}}return y.wheelDelta=function(d){return arguments.length?(i=typeof d=="function"?d:ft(+d),y):i},y.filter=function(d){return arguments.length?(n=typeof d=="function"?d:ft(!!d),y):n},y.touchable=function(d){return arguments.length?(r=typeof d=="function"?d:ft(!!d),y):r},y.extent=function(d){return arguments.length?(t=typeof d=="function"?d:ft([[+d[0][0],+d[0][1]],[+d[1][0],+d[1][1]]]),y):t},y.scaleExtent=function(d){return arguments.length?(a[0]=+d[0],a[1]=+d[1],y):[a[0],a[1]]},y.translateExtent=function(d){return arguments.length?(o[0][0]=+d[0][0],o[1][0]=+d[1][0],o[0][1]=+d[0][1],o[1][1]=+d[1][1],y):[[o[0][0],o[0][1]],[o[1][0],o[1][1]]]},y.constrain=function(d){return arguments.length?(e=d,y):e},y.duration=function(d){return arguments.length?(u=+d,y):u},y.interpolate=function(d){return arguments.length?(f=d,y):f},y.on=function(){var d=c.on.apply(c,arguments);return d===c?y:d},y.clickDistance=function(d){return arguments.length?(w=(d=+d)*d,y):Math.sqrt(w)},y.tapDistance=function(d){return arguments.length?(_=+d,y):_},y}function As(n){return n}function Ns(n){if(n==null)return As;var t,e,i=n.scale[0],r=n.scale[1],a=n.translate[0],o=n.translate[1];return function(u,f){f||(t=e=0);var c=2,s=u.length,l=new Array(s);for(l[0]=(t+=u[0])*i+a,l[1]=(e+=u[1])*r+o;c<s;)l[c]=u[c],++c;return l}}function Ts(n,t){for(var e,i=n.length,r=i-t;r<--i;)e=n[r],n[r++]=n[i],n[i]=e}function $s(n,t){return typeof t=="string"&&(t=n.objects[t]),t.type==="GeometryCollection"?{type:"FeatureCollection",features:t.geometries.map(function(e){return di(n,e)})}:di(n,t)}function di(n,t){var e=t.id,i=t.bbox,r=t.properties==null?{}:t.properties,a=Is(n,t);return e==null&&i==null?{type:"Feature",properties:r,geometry:a}:i==null?{type:"Feature",id:e,properties:r,geometry:a}:{type:"Feature",id:e,bbox:i,properties:r,geometry:a}}function Is(n,t){var e=Ns(n.transform),i=n.arcs;function r(s,l){l.length&&l.pop();for(var h=i[s<0?~s:s],p=0,v=h.length;p<v;++p)l.push(e(h[p],p));s<0&&Ts(l,v)}function a(s){return e(s)}function o(s){for(var l=[],h=0,p=s.length;h<p;++h)r(s[h],l);return l.length<2&&l.push(l[0]),l}function u(s){for(var l=o(s);l.length<4;)l.push(l[0]);return l}function f(s){return s.map(u)}function c(s){var l=s.type,h;switch(l){case"GeometryCollection":return{type:l,geometries:s.geometries.map(c)};case"Point":h=a(s.coordinates);break;case"MultiPoint":h=s.coordinates.map(a);break;case"LineString":h=o(s.arcs);break;case"MultiLineString":h=s.arcs.map(o);break;case"Polygon":h=f(s.arcs);break;case"MultiPolygon":h=s.arcs.map(f);break;default:return null}return{type:l,coordinates:h}}return c(t)}const ks="https://cdn.jsdelivr.net/npm/world-atlas@2/countries-110m.json";let An=null;async function Ls(){return An||(An=await(await fetch(ks)).json(),An)}function pi(n){const t=n.id;return t==null?"":String(t)}function Rs(n,t,e,i){const o=Qr().scale(120).translate([480,333.3333333333333]),u=Or().projection(o),f=new Map(t.map(y=>[y.id,y])),c=$s(An,An.objects.countries),s=y=>{const S=pi(y);return e.has(S)?"#22c55e":"#334155"},l=J(n);l.selectAll("*").remove();const h=l.append("g").attr("class","map-layer"),p=h.selectAll("path").data(c.features).join("path").attr("d",y=>u(y)??"").attr("fill",y=>s(y)).attr("stroke","#1e293b").attr("stroke-width",.3).style("cursor","pointer").on("mouseenter",function(y,S){var T;const C=pi(S),x=f.get(C),M=x?x.name:((T=S.properties)==null?void 0:T.name)??"—",b=e.has(C);J(this).attr("fill",b?"#16a34a":"#475569"),i({name:String(M),discovered:b})}).on("mouseleave",function(){const y=J(this).datum();J(this).attr("fill",s(y)),i(null)}),v=Ms().scaleExtent([.5,20]).on("zoom",y=>{h.attr("transform",y.transform.toString())});l.call(v);function w(){p.attr("fill",y=>s(y))}function _(){l.call(v.transform,Ae)}return{updateColors:w,resetZoom:_}}function ar(n,t){const e=i=>{const r=i.id!=null?String(i.id):"";return t.has(r)?"#22c55e":"#334155"};J(n).select(".map-layer").selectAll("path").attr("fill",function(){const i=J(this).datum();return e(i)})}const or=15*60,ur="quiz_scores_history",On=document.getElementById("app");let Yn=null,In=or;const sn=new Set;let Nn=!1,Un=null;function sr(){const n=localStorage.getItem(ur);if(n)try{return JSON.parse(n)}catch(t){console.error("Erro ao carregar histórico:",t)}return[]}function zs(n){const t=sr(),e=new Date().toLocaleDateString("pt-BR");t.push({score:n,date:e}),t.sort((i,r)=>r.score-i.score),localStorage.setItem(ur,JSON.stringify(t.slice(0,10)))}function Ht(n){return n.toLowerCase().normalize("NFD").replace(new RegExp("\\p{Diacritic}","gu"),"").replace(/\s+/g," ").trim()}function Ps(n){var e;const t=Ht(n);if(!t)return null;for(const i of Tn)if(Ht(i.name)===t||(e=i.alternates)!=null&&e.some(r=>Ht(r)===t))return i;return null}function Ne(n){const t=Math.floor(n/60),e=n%60;return`${t.toString().padStart(2,"0")}:${e.toString().padStart(2,"0")}`}function Xt(){if(Yn!=null||Nn)return;const n=document.getElementById("timer");n&&(Yn=window.setInterval(()=>{if(In--,n.textContent=Ne(In),In<=0){Te();const t=document.getElementById("input-country");t&&(t.disabled=!0),Fs()}},1e3))}function Te(){Yn!=null&&(clearInterval(Yn),Yn=null)}function Bs(n,t){n.textContent=t,n.classList.remove("hidden"),n.setAttribute("aria-hidden","false")}function mi(n){n.classList.add("hidden"),n.setAttribute("aria-hidden","true")}function Os(){const n=new Map;for(const t of Tn){const e=n.get(t.continent)??[];e.push(t),n.set(t.continent,e)}return n}function ge(n,t){const e=Os(),i=a=>{const o=e.get(a)??[];if(o.length===0)return"";const u=o.map(f=>{const c=sn.has(f.id);return`<li class="${c?"discovered":"empty"}">${c?f.name:"—"}</li>`}).join("");return`<section class="continent-block"><h3>${a}</h3><ul>${u}</ul></section>`},r=[];for(const a of cr)if(a==="América do Norte"){const o=i("América do Norte"),u=i("América Central e Caribe");(o||u)&&r.push(`<div class="americas-wrapper">${o}${u}</div>`)}else if(a!=="América Central e Caribe"){const o=i(a);o&&r.push(o)}n.innerHTML=r.join(""),t.textContent=String(sn.size)}function Gt(){Te(),In=or,sn.clear(),Nn=!1;const n=document.getElementById("timer");n&&(n.textContent=Ne(In));const t=document.getElementById("input-country");t&&(t.disabled=!1,t.value="");const e=document.getElementById("list-by-continent"),i=document.getElementById("count");e&&i&&ge(e,i),Un&&ar(Un,sn);const r=document.getElementById("game-over-overlay");r&&r.classList.add("hidden");const a=document.getElementById("game-content"),o=document.getElementById("game-header");a&&a.classList.remove("hidden"),o&&o.classList.remove("hidden")}function Ds(){const n=document.getElementById("pause-overlay"),t=document.getElementById("game-content"),e=document.getElementById("game-header");n&&n.classList.remove("hidden"),t&&t.classList.add("hidden"),e&&e.classList.add("hidden")}function Vt(){const n=document.getElementById("pause-overlay"),t=document.getElementById("game-content"),e=document.getElementById("game-header");n&&n.classList.add("hidden"),t&&t.classList.remove("hidden"),e&&e.classList.remove("hidden")}function Fs(){const n=document.getElementById("game-over-overlay"),t=document.getElementById("game-content"),e=document.getElementById("game-header");n&&n.classList.remove("hidden"),t&&t.classList.add("hidden"),e&&e.classList.add("hidden"),zs(sn.size);const r=sr().map((u,f)=>`<li class="rank-item"><span class="rank-pos">#${f+1}</span><span class="rank-score">${u.score}/${Tn.length}</span><span class="rank-date">${u.date}</span></li>`).join(""),a=document.getElementById("ranking-list");a&&(a.innerHTML=r);const o=document.getElementById("final-score");o&&(o.textContent=String(sn.size))}async function qs(){var M;await Ls(),On.innerHTML="";const n=document.createElement("header");n.id="game-header",n.className="header",n.innerHTML=`
    <h1>Quiz dos Países do Mundo</h1>
    <div class="header-actions">
      <div class="timer-row">
        <span class="timer-label">Tempo restante</span>
        <span id="timer" class="timer">${Ne(In)}</span>
      </div>
      <button type="button" id="btn-restart-header" class="btn btn-secondary">Recomeçar</button>
      <button type="button" id="btn-pause" class="btn btn-pause">Pausar</button>
    </div>
  `,On.appendChild(n);const t=document.createElement("main");t.className="main",t.id="game-content",t.innerHTML=`
    <div class="top-section">
      <div class="input-section">
        <label for="input-country">Digite o nome do país (em português)</label>
        <div class="input-wrapper">
          <input type="text" id="input-country" autocomplete="off" />
          <div id="check-mark" class="check-mark hidden">✓</div>
        </div>
        <p id="feedback" class="feedback"></p>
      </div>
      <div id="tooltip" class="tooltip hidden" aria-hidden="true"></div>
      <div class="map-wrap">
        <button type="button" id="btn-reset-map" class="btn btn-map-reset" title="Tamanho padrão do mapa">Tamanho padrão</button>
        <svg id="map-svg" viewBox="0 0 960 500" preserveAspectRatio="xMidYMid meet"></svg>
      </div>
    </div>
    <div class="list-section">
      <h2>Países descobertos <span id="count">0</span>/${Tn.length}</h2>
      <div id="list-by-continent" class="list-by-continent"></div>
    </div>
  `,On.appendChild(t);const e=document.createElement("div");e.id="pause-overlay",e.className="pause-overlay hidden",e.innerHTML=`
    <div class="pause-card">
      <h2>Jogo pausado</h2>
      <p class="pause-desc">Escolha uma opção para continuar.</p>
      <div class="pause-actions">
        <button type="button" id="btn-unpause" class="btn btn-primary">Despausar</button>
        <button type="button" id="btn-restart" class="btn btn-secondary">Começar novamente</button>
      </div>
    </div>
  `,On.appendChild(e);const i=document.createElement("div");i.id="game-over-overlay",i.className="game-over-overlay hidden",i.innerHTML=`
    <div class="game-over-card">
      <h2>Tempo Esgotado!</h2>
      <p class="final-score-text">Sua pontuação: <span id="final-score">0</span>/${Tn.length}</p>
      <div class="ranking-section">
        <h3>Melhores Pontuações</h3>
        <ul id="ranking-list" class="ranking-list"></ul>
      </div>
      <button type="button" id="btn-play-again" class="btn btn-primary">Jogar Novamente</button>
    </div>
  `,On.appendChild(i);const r=document.getElementById("input-country"),a=document.getElementById("feedback"),o=document.getElementById("tooltip"),u=document.getElementById("check-mark"),f=document.getElementById("list-by-continent"),c=document.getElementById("count"),s=document.getElementById("map-svg");if(!s)return;Un=s;const l=document.getElementById("btn-pause"),h=document.getElementById("btn-unpause"),p=document.getElementById("btn-restart"),v=document.getElementById("btn-restart-header"),w=document.getElementById("btn-play-again");function _(){u.classList.remove("hidden"),u.classList.add("bounce"),setTimeout(()=>{u.classList.add("hidden"),u.classList.remove("bounce")},1500)}function y(b,T=!1){T?(a.textContent=b,a.className="feedback error"):(a.textContent="",a.className="feedback")}const{resetZoom:S}=Rs(Un,Tn,sn,b=>{b&&b.discovered?Bs(o,`${b.name} ✓ Descoberto`):mi(o)});(M=document.getElementById("btn-reset-map"))==null||M.addEventListener("click",()=>S());function C(){if(Nn)return;Xt();const b=r.value.trim();if(!b)return;const T=Ps(b);if(T){if(sn.has(T.id)){y(`${T.name} já foi descoberto!`,!0);return}sn.add(T.id),_(),r.value="",ge(f,c),ar(Un,sn)}}let x=null;r.addEventListener("input",()=>{x!==null&&clearTimeout(x),x=window.setTimeout(()=>{C()},800)}),r.addEventListener("keydown",b=>{b.key==="Enter"&&(x!==null&&(clearTimeout(x),x=null),C())}),r.addEventListener("focus",()=>Xt()),l==null||l.addEventListener("click",()=>{Nn||(Nn=!0,Te(),Ds())}),h==null||h.addEventListener("click",()=>{Nn=!1,Vt(),Xt()}),p==null||p.addEventListener("click",()=>{Gt(),Vt()}),v==null||v.addEventListener("click",()=>{Gt(),Vt()}),w==null||w.addEventListener("click",()=>{Gt()}),ge(f,c)}qs();
